!function(e){function webpackJsonpCallback(t){for(var i,a,o=t[0],l=t[1],c=t[2],u=0,d=[];u<o.length;u++)a=o[u],r[a]&&d.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(s&&s(t);d.length;)d.shift()();return n.push.apply(n,c||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,t=0;t<n.length;t++){for(var i=n[t],a=!0,o=1;o<i.length;o++){var s=i[o];0!==r[s]&&(a=!1)}a&&(n.splice(t--,1),e=__webpack_require__(__webpack_require__.s=i[0]))}return e}var t={},r={1:0},n=[];function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.e=function requireEnsure(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,i){n=r[e]=[t,i]});t.push(n[2]=i);var a,o=document.createElement("script");o.charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.src=function jsonpScriptSrc(e){return __webpack_require__.p+""+({0:"elv-client-js",2:"vendors~elv-client-js"}[e]||e)+".bundle.js"}(e),a=function(t){o.onerror=o.onload=null,clearTimeout(s);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,l=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");l.type=i,l.request=a,n[1](l)}r[e]=void 0}};var s=setTimeout(function(){a({type:"timeout",target:o})},12e4);o.onerror=o.onload=a,document.head.appendChild(o)}return Promise.all(t)},__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__webpack_require__.d(r,n,function(t){return e[t]}.bind(null,n));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=webpackJsonpCallback,i=i.slice();for(var o=0;o<i.length;o++)webpackJsonpCallback(i[o]);var s=a;n.push([462,3]),checkDeferredModules()}({188:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'},189:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M20 7v10H4V7h16m0-2H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2zm0 3h2v2h-2zM8 8h2v2H8zm0 3h2v2H8zm-3 0h2v2H5zm0-3h2v2H5zm3 6h8v2H8zm6-3h2v2h-2zm0-3h2v2h-2zm3 3h2v2h-2zm0-3h2v2h-2z" fill="#626262"></path></svg>'},190:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-save"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>'},191:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"></path></svg>'},192:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-maximize"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg>'},193:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minimize"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path></svg>'},194:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-volume-x"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></svg>'},195:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-volume-1"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>'},196:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-volume-2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>'},197:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>'},198:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevrons-right"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg>'},199:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>'},200:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>'},209:function(e,t,r){var n=r(210);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(31)(n,i);n.locals&&(e.exports=n.locals)},210:function(e,t,r){(t=e.exports=r(28)(!1)).i(r(211),""),t.push([e.i,'*{box-sizing:border-box}html,body{background-color:#fff;color:#222;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;height:100%;margin:0;padding:0}h1{font-size:28px;font-weight:bold;margin:0}h2{font-size:24px;font-weight:bold;margin:0}h3{font-size:20px;font-weight:normal;margin:0}h3.header-with-loader{align-items:center;display:flex;height:30px;justify-content:space-between}h4{color:#222;font-size:16px;font-weight:normal;margin:.5rem 0 .25rem}a{text-decoration:none}a,a:visited{color:#555}a.link{display:block}a.image-link{display:flex}ul{display:flex;list-style-type:none;margin:0;padding:0}ul li{display:inline}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:url("data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6IzQ0NDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFycm93czwvdGl0bGU+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iNC45NSIgaGVpZ2h0PSIxMCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxLjQxIDQuNjcgMi40OCAzLjE4IDMuNTQgNC42NyAxLjQxIDQuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMy41NCA1LjMzIDIuNDggNi44MiAxLjQxIDUuMzMgMy41NCA1LjMzIi8+PC9zdmc+") no-repeat 98% 50%;border:1px solid #ccc;border-radius:0;cursor:pointer;font-size:16px;height:32px;padding:0 0 0 .25rem;width:250px}input{height:32px}input,textarea,pre{border:1px solid #ddd;padding:0 .25rem}pre{font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;margin:0;overflow:auto;padding:.75rem .5rem;white-space:pre-wrap;word-wrap:break-word}.-elv-copyable{cursor:pointer}html{font-size:16px;overflow-x:hidden}@media screen and (min-width: 1000px){html{font-size:18px}}@media screen and (min-width: 2000px){html{font-size:20px}}html,body,.app,.video-editor{background-color:#131315;min-height:100%}body{font-size:.8rem;height:auto}body *{color:#f0f0f0}body,.app{display:flex;flex-direction:column}.app,.video-editor{flex-grow:1}.video-editor:focus,.video-component:focus{outline:0}.mono{font-family:monospace}.hidden{display:none !important}.-elv-tooltip.-elv-tooltip{background-color:#2c2a28;border:1px solid #666;color:#f0f0f0}.rc-slider-tooltip{background-color:#2c2a28;border:1px solid #666;color:#f0f0f0}button{background-color:#131315;border:1px solid #3a3a3a;cursor:pointer;font-size:.7rem;padding:.5rem 1rem}button:not(.-elv-icon-button):hover{background-color:#0c89c7}button:focus{outline:1px dotted #acacac}.async-component-loading,.async-component-error{align-items:center;display:flex;height:50%;justify-content:center;overflow-wrap:anywhere;padding:0 .5rem;width:100%}.async-component-error{color:#f33}.wrap{max-width:100%;word-break:break-all;word-wrap:break-word}.resize-handle{background-color:#131315;padding:3px;position:absolute;z-index:100}.resize-handle:hover{background-color:#0c89c7}.checkbox-container{cursor:pointer;padding:.5rem}.checkbox{background-color:#000;border-radius:3px;height:.5rem;outline:1px solid #3a3a3a;position:relative;width:.5rem}.checkbox.checked::after{color:#fff;content:"\\2713";font-size:.8rem;font-weight:600;left:0;position:absolute;top:-0.3rem}.back-button{border-radius:3px;width:50px}.back-button:hover{background-color:#2c2a28}.-elv-modal.-elv-modal .-elv-modal-content{background-color:#131315;border:1px solid #3a3a3a;box-shadow:none;color:#f0f0f0}.-elv-modal.-elv-modal .-elv-modal-content form legend{border-bottom:1px solid #3a3a3a}.-elv-modal.-elv-modal .-elv-modal-content button{background-color:#0c89c7;border:1px solid #3a3a3a;color:#f0f0f0}.-elv-modal.-elv-modal .-elv-modal-content button.secondary{background-color:#131315}.-elv-modal.-elv-modal .-elv-modal-content button.secondary:hover{background-color:#2c2a28;border:1px solid #3a3a3a;color:#f0f0f0}.-elv-modal.-elv-modal .-elv-modal-content button:hover{background-color:#0ea5ef;border:1px solid #3a3a3a;color:#f0f0f0}header{height:55px}.menu-container{background-color:#131315;box-shadow:3px -3px 8px #000;height:calc(100% - 55px);max-height:calc(100% - 55px);position:absolute;width:600px;z-index:1000}.video-level{display:flex}.side-panel{min-width:20rem;overflow:hidden;width:500px;word-wrap:break-word}.side-panel .resize-handle{cursor:e-resize;height:100%;right:0;top:0;width:0}.side-panel .side-panel-content{height:100%;left:0;position:absolute;top:0;width:100%}.video-component .resize-handle{bottom:-6px;cursor:s-resize;height:0;width:100%}header{align-items:center;display:flex;justify-content:space-between}header .header-left,header .header-right{align-items:center;display:flex;height:100%;width:auto}header .header-right{padding:0 1.5rem}header .menu-button{height:100%;margin-right:.5rem;z-index:1001}header .menu-button svg{padding:.5rem}header .menu-button-active{background-color:#2c2a28}header .menu-button-active svg{color:#acacac}header h1{font-size:1rem;font-weight:normal}header .header-icon{cursor:pointer;height:1.4rem;margin-right:1.5rem;padding:0;width:1.4rem}header .header-icon svg{stroke:#555}header .header-icon svg:hover{stroke:#aaa}header .header-icon.save-icon-loading{-webkit-transform:scale(0.7);transform:scale(0.7)}header .header-icon.save-icon-loading div{color:#aaa}header .header-icon.save-failed svg{stroke:#a33}header .header-icon.save-failed svg:hover{stroke:#f33}header .header-icon.keyboard-controls-icon{height:1.4rem;margin-bottom:2px}header .header-icon.keyboard-controls-icon path{fill:#555;stroke:transparent}header .header-icon.keyboard-controls-icon path:hover{fill:#aaa}.keyboard-control-info{font-size:.5rem;min-width:500px;width:500px}.keyboard-control-info h3{font-size:.7rem;padding:1rem 0 .5rem}.keyboard-control-info .control-group{align-items:center;display:flex;padding:.5rem 0}.keyboard-control-info .control-group:not(:last-child){border-bottom:1px solid #444}.keyboard-control-info .control-group .control-labels{display:flex;flex-direction:column;width:150px}.keyboard-control-info .control-group label{color:#acacac}.keyboard-controls-tooltip.keyboard-controls-tooltip{min-width:500px;padding-bottom:1rem}.video-component{display:flex;flex-direction:column;flex-shrink:1;max-height:100%;width:100%}.video-component .video-seek,.video-component .video-scale{margin-bottom:.5rem;padding:0 1.5rem}.video-container{align-items:center;background-color:#000;display:flex;flex-grow:1;height:100%;justify-content:center;max-height:100%;position:relative}.video-container .video-poster{cursor:pointer;height:100%;left:0;margin:auto;max-height:100%;-o-object-fit:contain;object-fit:contain;position:absolute;top:0;width:100%;z-index:100}.video-container video{cursor:pointer;display:block;flex:1 1 auto;height:100%;max-height:100%;max-width:100%;position:absolute}.video-controls-loading{height:300px}.video-seek .-elv-slider,.video-scale .-elv-slider{background-color:#000}.video-seek .-elv-slider-active,.video-scale .-elv-slider-active{background-color:#464646}.video-seek .-elv-slider-overlay,.video-scale .-elv-slider-overlay{outline:1px solid #3a3a3a}.video-seek .video-seek-handle{background-color:transparent}.video-seek .-elv-slider-active{background-color:#0c89c7}.video-seek .-elv-slider-marks-container .-elv-slider-mark-notch{background-color:transparent}.video-scale .video-seek-handle{background-color:#0c89c7}.video-time,.video-controls{align-items:center;color:#acacac;display:flex;font-size:.8rem;font-weight:lighter;justify-content:center}.video-time{height:35px;text-align:center;width:100%}.video-controls-container{background-color:#000}.video-controls-container:not(.fullscreen){flex-grow:1}.video-controls{height:45px;padding-bottom:.5rem;position:relative}.video-controls button{align-items:center;display:flex;height:1.4rem;justify-content:center;width:50px}.video-controls button svg{color:#acacac;fill:#acacac;stroke:transparent}.video-controls button:active svg,.video-controls button:hover svg{color:#0c89c7;fill:#0c89c7}.video-controls button.video-control-play-pause{height:1.8rem}.video-controls button.video-control-play-pause svg{stroke:none}.video-controls select{font-size:.8rem}.video-controls select:active,.video-controls select:hover{color:#0c89c7}.video-controls .controls{height:100%}.video-controls .left-controls,.video-controls .right-controls{align-items:center;display:flex;height:100%;position:absolute}.video-controls .left-controls{left:1rem}.video-controls .right-controls{right:1rem}.video-controls .center-controls{align-items:center;display:flex;justify-content:center}.video-controls .video-volume-icon{height:1rem;margin-right:1rem}.video-controls .video-volume-icon svg{stroke:#acacac}.video-controls .video-volume-icon svg:hover{stroke:#0c89c7}.video-controls .video-volume-controls{align-items:center;display:flex;margin-right:1rem;width:125px}.video-controls .video-volume-controls .-elv-slider-active{background-color:#acacac}.video-controls .video-volume-controls .-elv-slider-handle{background-color:transparent}select{background:none;border:0;color:#acacac;left:.5rem;width:5rem}select option{background-color:#2c2a28}select.video-playback-rate{width:3.5rem}select.video-playback-level{margin-right:1.5rem;width:10rem}.timeline{padding-bottom:1.5rem}.tracks-container{margin:0 0 1.5rem;position:relative;width:100%}.track-time-indicator{background-color:#0fafff;margin-left:-1px;opacity:0.6;pointer-events:none;position:absolute;width:4px;z-index:100}.track-time-indicator .track-time-handle{border-radius:100%;height:5px;position:absolute;top:0;width:5px}.track-lane{display:flex;height:3rem}.track-lane .-elv-slider .-elv-slider-mark{font-size:.6rem}.track-lane:last-child .track-label-container{border-bottom:1px solid #3a3a3a}.track-lane:last-child .track-lane-content{border-bottom:1px solid #3a3a3a}.track-lane-content{background-color:#000;border:1px solid #3a3a3a;border-bottom:0;flex-grow:1;margin-right:1.5rem}.video-scale-lane{border:0;margin-top:1px}.video-scale-lane .track-label-container{border:0;font-size:.7rem}.video-scale-lane .track-lane-content{background-color:inherit;border:0}.track-container{display:flex}.track-container .track-canvas-container{height:3rem;width:100%}.track-container canvas{cursor:pointer;max-width:100%}.track-lane-audio{height:5rem}.track-lane-audio .track-lane-content{background-color:#000}.track-lane-audio .track-canvas-container{height:5rem}.track-lane-preview{height:5rem}.preview-frame{display:flex;flex:1 1 auto;height:5rem;max-height:100%;overflow:hidden;padding-bottom:2px;width:100%}.preview-frame img{height:100%;max-height:100%;max-width:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;width:100%}.track-label-container{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;align-items:center;border:1px solid #3a3a3a;border-bottom:0;border-left:0;display:flex;font-size:.8rem;height:100%;min-width:12rem;padding:1rem;position:relative;width:12rem}.track-label-container .track-toggle{position:absolute;right:.5rem;top:0}.track-label-clickable{cursor:pointer}.track-label-clickable:hover{background-color:#2c2a28}.track-label-selected{background-color:#0c89c7}.track-label-selected:hover{background-color:#0ea5ef}.timeline-actions{display:flex;padding:0 1rem;width:100%}.timeline-actions button{margin-right:.5rem;width:7rem}.timeline-actions button:hover{background-color:#0c89c7}.timeline-actions button.enabled{background-color:#2c2a28}.timeline-actions button.enabled:hover{background-color:#0ea5ef}.toggle-tracks{justify-content:center}.track-entry-timestamps,.track-entry-content{padding:.5rem 1rem;white-space:normal;word-wrap:break-spaces}.track-entry-timestamps{display:flex;justify-content:center}.track-entry-content{white-space:normal;word-wrap:break-word}.track-entry-content:empty{border:0;display:none}.entries-container{display:flex;flex-direction:column;height:100%;text-align:center}.entries-container h4{margin:0}.entries-container .entries-header{background-color:#2c2a28;padding:1rem 0}.entries-container .entries-header.modifiable{cursor:pointer}.entries-container .entries-header.modifiable:hover{background-color:#085d87}.entries-container .entries-filter input{background-color:#000;border:1px solid #000;color:#acacac;font-size:1rem;height:2rem;padding:0 .5rem;width:100%}.entries-container .add-entry-button{bottom:0;display:flex;width:100%;z-index:100}.entries-container .add-entry-button button{background-color:#0c89c7;border:0;flex-grow:1}.entries-container .add-entry-button button:hover{background-color:#0ea5ef}.entries-container .entries-time-range{color:#8c8c8c;font-size:.7rem}.entries-container .entries{flex-grow:1;max-height:100%;overflow-y:auto}.entries-container .entry-time-range{color:#6c6c6c}.entries-container .load-entries-button{align-items:center;display:flex;flex-grow:1;justify-content:center;width:100%}.entries-container .entry{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;align-items:center;border-bottom:1px solid #3a3a3a;cursor:pointer;display:flex;flex-direction:column;font-size:.7rem;justify-content:center;min-height:3.5rem;padding:.5rem;position:relative;text-align:center}.entries-container .entry.entry-hover,.entries-container .entry:hover{background-color:#2c2a28}.entries-container .entry.entry-active{background-color:#0c89c7}.entries-container .entry.entry-active .entry-time-range{color:#fff}.entries-container .entry:not(.entry-active) .entry-play-icon:hover{fill:#0c89c7}.entries-container .entry .entry-text{padding:0 1rem}.entries-container .entry-play-icon{fill:#fff;padding:.5rem;position:absolute;right:0;top:0}.entries-container .entry-play-icon svg{height:.8rem;width:.8rem}.entries-container .entry-actions{align-items:center;border-bottom:1px solid #3a3a3a;display:flex;padding:.5rem 1rem}.entries-container .entry-actions .back-button{margin-right:.5rem}.delete-button{bottom:1.5rem;position:absolute;width:90%}.delete-button.delete-button button{background-color:#131315;border:1px solid #3a3a3a;color:#fff}.delete-button.delete-button button:hover{background-color:#a33}.entry-form{flex-grow:1;padding:1rem;position:relative}.entry-form button{background-color:#0c89c7;flex-grow:1;margin-top:1.5rem}.entry-form button:hover{background-color:#0ea5ef}.entry-form button.invalid{background-color:#131315}.entry-form .time-input{display:flex;margin-bottom:.25rem}.entry-form .time-input .-elv-icon-button{background-color:transparent;margin:0 0 0 .25rem;width:auto}.entry-form .time-input .-elv-icon-button svg{padding:.25rem}.entry-form .time-input input{margin:0}.entry-details{align-items:center;display:grid;grid-row-gap:.25rem;grid-template-columns:8rem 2fr;width:100%}.entry-details label{color:#8c8c8c;text-align:left}.entry-details input{background-color:#2c2a28;border:#3a3a3a;color:#f0f0f0;font-size:.8rem;margin-bottom:.25rem;max-width:100%;min-width:0;width:100%}.entry-details input.invalid,.entry-details input:invalid{box-shadow:#f33 0 0 4px;outline:1px solid #a33}.entry-actions-container{align-items:center;display:flex;margin-bottom:1rem}.entry-actions-container .cancel-button{background-color:#131315;margin-right:.5rem}.entry-actions-container .cancel-button:hover{background-color:#2c2a28}.entry-actions-container .back-button{margin-right:.5rem}.entry-container{overflow-y:auto;padding:.75rem 1rem;text-align:left}.entry-container .entry-edit-button{margin-top:1rem;width:10rem}.entry-container .entry-actions{align-items:center;border:0;display:flex;flex-grow:1;padding:0}.entry-container .entry-actions button{flex:1 1;margin-right:.5rem;max-width:40%;padding:.33rem}.entry-container .entry-actions button:last-child{margin-right:0}.entry-container .entry-actions .back-button{flex-grow:0;margin-right:2rem}.menu-container{background-color:#131315;min-height:500px;padding:1rem 0 0}.menu-container .menu-header{align-self:center;display:flex;margin:0 0 1rem .5rem}.menu-container .menu-back{border-radius:3px;width:50px}.menu-container .menu-back:hover{background-color:#2c2a28}.menu-container h4{align-items:center;display:flex;flex-grow:1;font-size:1rem;margin:0;padding:0 .5rem;text-align:center}.menu-container .menu-entries{height:100%;max-height:100%;overflow-y:auto}.menu-container ul{flex-direction:column}.menu-container li{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;max-width:100%;padding:.75rem 1rem}.menu-container li:hover{background-color:#0c89c7}.menu-container h5{font-style:italic;font-weight:normal;padding:0 1rem}.menu-container .menu-empty{margin-top:4rem;text-align:center;width:100%}.menu-container .video-info{display:grid;font-size:.7rem;grid-row-gap:1rem;grid-template-columns:minmax(50px, 2fr) minmax(100px, 5fr);max-width:100%;padding:1rem}.overlay-container{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;z-index:500}\n',""])},462:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"root",function(){return an}),r.d(n,"edit",function(){return on}),r.d(n,"entry",function(){return sn}),r.d(n,"keyboardControls",function(){return ln}),r.d(n,"menu",function(){return cn}),r.d(n,"overlay",function(){return un}),r.d(n,"tracks",function(){return dn}),r.d(n,"video",function(){return pn});var i,a,o,s,l,c,u,d,p,h,m,v,y,f,b,k,g,T,S,w,E,x,C,O,P,j,M,z,I,_,H,R,F,D,N,A,L,V,W,U,B,q,K,$,G,X,Y,Z,J,Q,ee,te,re,ne,ie,ae,oe,se,le,ce,ue,de,pe,he,me,ve,ye,fe,be,ke,ge,Te,Se,we,Ee,xe,Ce,Oe,Pe,je,Me,ze,Ie,_e,He,Re,Fe,De,Ne,Ae,Le,Ve,We,Ue,Be,qe,Ke,$e,Ge,Xe,Ye,Ze,Je,Qe,et,tt,rt,nt,it,at,ot,st,lt,ct,ut,dt,pt,ht,mt,vt,yt,ft,bt,kt,gt,Tt,St,wt,Et,xt,Ct,Ot,Pt,jt,Mt,zt,It,_t,Ht,Rt,Ft,Dt,Nt,At,Lt,Vt,Wt,Ut,Bt,qt,Kt,$t,Gt,Xt,Yt,Zt=r(8),Jt=r.n(Zt),Qt=r(7),er=r.n(Qt),tr=r(11),rr=r.n(tr),nr=r(12),ir=r.n(nr),ar=r(13),or=r.n(ar),sr=(r(209),r(0)),lr=r.n(sr),cr=r(34),ur=r(6),dr=r(5),pr=r.n(dr),hr=r(16),mr=r.n(hr),vr=r(9),yr=r.n(vr),fr=r(3),br=r.n(fr),kr=(r(53),r(1)),gr=r(24),Tr=r.n(gr),Sr=r(178),wr=r(48),Er=r.n(wr),xr=r(27),Cr=r.n(xr),Or=function SortEntries(e){return e.sort(function(e,t){return e=Tr()({},e,{startTime:e.startTime||e.start_time,endTime:e.endTime||e.end_time}),t=Tr()({},t,{startTime:t.startTime||t.start_time,endTime:t.endTime||t.end_time}),e.startTime===t.startTime?e.endTime===t.endTime?e.label<t.label?-1:1:e.endTime<t.endTime?-1:1:e.startTime<t.startTime?-1:1})},Pr=function Input(e){return lr.a.createElement("input",Cr()({},e,{onKeyPress:function onKeyPress(t){t.stopPropagation(),e.onKeyPress&&e.onKeyPress(t)}}))},jr=function SplitArray(e,t){for(var r=Er()(Array(t)).map(function(){return[]}),n=0,i=0;n<e.length;)r[i].push(e[n]),i=(i+1)%t,n+=1;return r},Mr=r(30),zr=r.n(Mr),Ir=(i=kr.d.bound,a=function(){function EditStore(e){Jt()(this,EditStore),yr()(this,"saving",o,this),yr()(this,"saveFailed",s,this),yr()(this,"Save",l,this),this.rootStore=e}return er()(EditStore,[{key:"Reset",value:function Reset(){this.saving=!1}}]),EditStore}(),o=br()(a.prototype,"saving",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),s=br()(a.prototype,"saveFailed",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),l=br()(a.prototype,"Save",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(kr.h)(pr.a.mark(function _callee3(){var e,t,r,n,i,a,o,s,l,c,u,d,p,h;return pr.a.wrap(function _callee3$(m){for(;;)switch(m.prev=m.next){case 0:if(!this.saving&&!this.rootStore.videoStore.loading){m.next=2;break}return m.abrupt("return");case 2:return this.saving=!0,m.prev=3,e=this.rootStore.client,t=this.rootStore.menuStore.selectedObject.libraryId,r=this.rootStore.menuStore.selectedObject.objectId,n=this.rootStore.menuStore.selectedObject.versionHash,m.next=10,e.ContentObjectMetadata({libraryId:t,objectId:r,versionHash:n,metadataSubtree:"metadata_tags"});case 10:if(m.t0=m.sent,m.t0){m.next=13;break}m.t0={};case 13:return i=m.t0,m.next=16,e.ContentObjectMetadata({libraryId:t,objectId:r,versionHash:n,metadataSubtree:"eluvio_video_editor_save"});case 16:if(m.t1=m.sent,m.t1){m.next=19;break}m.t1={};case 19:if(a=m.t1,o={},(s=this.rootStore.trackStore.tracks.filter(function(e){return"metadata"===e.trackType})).forEach(function(e){var t=Object.values(e.entries).map(function(e){return Tr()({},e.entry,{label:e.label,text:e.text,start_time:e.startTime,end_time:e.endTime})}),r=i[e.key]||{},n=Tr()({},r,{name:e.label,entries:Or(t)});if(r){r.entries=Or(r.entries||[]);var a=Object(Sr.diff)(r,n);if(0===Object.keys(a).length)return}o[e.key]=n}),l=s.map(function(e){return e.key}),c=Object.keys(i).filter(function(e){return!l.includes(e)}),0!==Object.keys(o).length||0!==c.length){m.next=29;break}return this.saving=!1,this.saveFailed=!1,m.abrupt("return");case 29:return m.next=31,e.EditContentObject({libraryId:t,objectId:r});case 31:return u=m.sent,d=u.write_token,m.next=35,Promise.all(Object.keys(o).map(function(){var n=mr()(pr.a.mark(function _callee(n){return pr.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.ReplaceMetadata({libraryId:t,objectId:r,writeToken:d,metadataSubtree:zr()("metadata_tags",n),metadata:o[n]});case 2:case"end":return i.stop()}},_callee)}));return function(e){return n.apply(this,arguments)}}()));case 35:return m.next=37,Promise.all(c.map(function(){var n=mr()(pr.a.mark(function _callee2(n){return pr.a.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.DeleteMetadata({libraryId:t,objectId:r,writeToken:d,metadataSubtree:zr()("metadata_tags",n)});case 2:case"end":return i.stop()}},_callee2)}));return function(e){return n.apply(this,arguments)}}()));case 37:return m.next=39,e.ReplaceMetadata({libraryId:t,objectId:r,writeToken:d,metadataSubtree:"eluvio_video_editor_save",metadata:!0});case 39:return m.next=41,e.FinalizeContentObject({libraryId:t,objectId:r,writeToken:d});case 41:if(p=m.sent,h=p.hash,this.rootStore.menuStore.UpdateVersionHash(h),!a){m.next=47;break}return m.next=47,e.DeleteContentVersion({libraryId:t,objectId:r,versionHash:n});case 47:this.saveFailed=!1,m.next=54;break;case 50:m.prev=50,m.t2=m.catch(3),console.error(m.t2),this.saveFailed=!0;case 54:this.saving=!1;case 55:case"end":return m.stop()}},_callee3,this,[[3,50]])}))}}),a),_r=0,Hr=function(){function Id(){Jt()(this,Id)}return er()(Id,null,[{key:"next",value:function next(){return++_r}},{key:"nextTag",value:function nextTag(){return"id-"+ ++_r}}]),Id}(),Rr=(c=kr.d.bound,u=kr.d.bound,d=kr.d.bound,p=kr.d.bound,h=kr.d.bound,m=kr.d.bound,v=kr.d.bound,y=kr.d.bound,f=kr.d.bound,b=kr.d.bound,k=kr.d.bound,g=kr.d.bound,T=kr.d.bound,S=kr.d.bound,w=kr.d.bound,E=kr.d.bound,x=function(){function EntryStore(e){Jt()(this,EntryStore),yr()(this,"entries",C,this),yr()(this,"entryTime",O,this),yr()(this,"selectedEntry",P,this),yr()(this,"hoverEntries",j,this),yr()(this,"hoverTime",M,this),yr()(this,"filter",z,this),yr()(this,"editingEntry",I,this),this.rootStore=e}return er()(EntryStore,[{key:"Reset",value:function Reset(){this.entries=[],this.entryTime=void 0,this.selectedEntry=void 0,this.hoverEntries=[],this.hoverTime=void 0,this.filter="",this.editingEntry=!1}},{key:"TimeToSMPTE",value:function TimeToSMPTE(e){return this.rootStore.videoStore.TimeToSMPTE(e)}},{key:"SetFilter",value:function SetFilter(e){this.filter=e}},{key:"ClearFilter",value:function ClearFilter(){this.filter=""}},{key:"FilteredEntries",value:function FilteredEntries(e){var t=function formatString(e){return e.toString().toLowerCase()},r=t(this.rootStore.entryStore.filter),n=this.rootStore.videoStore.ScaleMinTime(),i=this.rootStore.videoStore.ScaleMaxTime();return e.filter(function(e){var a=e.startTime,o=e.endTime,s=e.text;return(!r||t(s).includes(r))&&o>=n&&a<=i}).sort(function(e,t){return e.startTime<t.startTime?-1:1})}},{key:"PlayCurrentEntry",value:function PlayCurrentEntry(){if(this.selectedEntry){var e=this.SelectedEntry();this.rootStore.videoStore.PlaySegment(this.rootStore.videoStore.TimeToFrame(e.startTime),this.rootStore.videoStore.TimeToFrame(e.endTime))}}},{key:"PlayEntry",value:function PlayEntry(e){e&&this.rootStore.videoStore.PlaySegment(this.rootStore.videoStore.TimeToFrame(e.startTime),this.rootStore.videoStore.TimeToFrame(e.endTime))}},{key:"SelectedEntry",value:function SelectedEntry(){return this.rootStore.trackStore.SelectedTrack().entries[this.selectedEntry]}},{key:"SetSelectedEntry",value:function SetSelectedEntry(e){this.selectedEntry=e,this.ClearEditing()}},{key:"ClearSelectedEntry",value:function ClearSelectedEntry(){this.selectedEntry=void 0,1===this.entries.length&&this.ClearEntries(),this.ClearEditing()}},{key:"Entries",value:function Entries(){var e=this;return this.entries.map(function(t){return e.rootStore.trackStore.SelectedTrack().entries[t]})}},{key:"SetEntries",value:function SetEntries(e,t){this.ClearSelectedEntry(),this.entries=e||[],this.entryTime=t,1===e.length&&this.SetSelectedEntry(e[0])}},{key:"SetHoverEntries",value:function SetHoverEntries(e,t){this.hoverEntries=e||[],this.hoverTime=t}},{key:"ClearHoverEntries",value:function ClearHoverEntries(){this.hoverEntries=[],this.hoverTime=void 0}},{key:"ClearEntries",value:function ClearEntries(){this.entries=[],this.hoverEntries=[]}},{key:"SetEditing",value:function SetEditing(e){this.SetSelectedEntry(e),this.editingEntry=!0}},{key:"ClearEditing",value:function ClearEditing(){this.editingEntry=!1}},{key:"CreateEntry",value:function CreateEntry(){var e=Hr.next();this.SetEditing(e)}},{key:"ModifyEntry",value:function ModifyEntry(e){var t=this,r=e.entryId,n=e.text,i=e.startTime,a=e.endTime;this.rootStore.trackStore.ModifyTrack(function(e){var o=e.entries[r];o?(o.text=n,o.startTime=i,o.endTime=a):r=t.rootStore.trackStore.AddEntry({trackId:e.trackId,text:n,startTime:i,endTime:a})}),this.SetSelectedEntry(r),this.ClearEditing()}},{key:"RemoveEntry",value:function RemoveEntry(e){e===this.selectedEntry&&(this.ClearSelectedEntry(),this.entries=this.entries.filter(function(t){return t!==e}),this.hoverEntries=this.hoverEntries.filter(function(t){return t!==e})),this.rootStore.trackStore.ModifyTrack(function(t){delete t.entries[e]})}}]),EntryStore}(),C=br()(x.prototype,"entries",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),O=br()(x.prototype,"entryTime",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=br()(x.prototype,"selectedEntry",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=br()(x.prototype,"hoverEntries",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),M=br()(x.prototype,"hoverTime",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=br()(x.prototype,"filter",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),I=br()(x.prototype,"editingEntry",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),br()(x.prototype,"SetFilter",[c],Object.getOwnPropertyDescriptor(x.prototype,"SetFilter"),x.prototype),br()(x.prototype,"ClearFilter",[u],Object.getOwnPropertyDescriptor(x.prototype,"ClearFilter"),x.prototype),br()(x.prototype,"FilteredEntries",[d],Object.getOwnPropertyDescriptor(x.prototype,"FilteredEntries"),x.prototype),br()(x.prototype,"PlayCurrentEntry",[p],Object.getOwnPropertyDescriptor(x.prototype,"PlayCurrentEntry"),x.prototype),br()(x.prototype,"PlayEntry",[h],Object.getOwnPropertyDescriptor(x.prototype,"PlayEntry"),x.prototype),br()(x.prototype,"SetSelectedEntry",[m],Object.getOwnPropertyDescriptor(x.prototype,"SetSelectedEntry"),x.prototype),br()(x.prototype,"ClearSelectedEntry",[v],Object.getOwnPropertyDescriptor(x.prototype,"ClearSelectedEntry"),x.prototype),br()(x.prototype,"SetEntries",[y],Object.getOwnPropertyDescriptor(x.prototype,"SetEntries"),x.prototype),br()(x.prototype,"SetHoverEntries",[f],Object.getOwnPropertyDescriptor(x.prototype,"SetHoverEntries"),x.prototype),br()(x.prototype,"ClearHoverEntries",[b],Object.getOwnPropertyDescriptor(x.prototype,"ClearHoverEntries"),x.prototype),br()(x.prototype,"ClearEntries",[k],Object.getOwnPropertyDescriptor(x.prototype,"ClearEntries"),x.prototype),br()(x.prototype,"SetEditing",[g],Object.getOwnPropertyDescriptor(x.prototype,"SetEditing"),x.prototype),br()(x.prototype,"ClearEditing",[T],Object.getOwnPropertyDescriptor(x.prototype,"ClearEditing"),x.prototype),br()(x.prototype,"CreateEntry",[S],Object.getOwnPropertyDescriptor(x.prototype,"CreateEntry"),x.prototype),br()(x.prototype,"ModifyEntry",[w],Object.getOwnPropertyDescriptor(x.prototype,"ModifyEntry"),x.prototype),br()(x.prototype,"RemoveEntry",[E],Object.getOwnPropertyDescriptor(x.prototype,"RemoveEntry"),x.prototype),x),Fr=(_=kr.d.bound,H=kr.d.bound,R=kr.d.bound,F=kr.d.bound,D=kr.d.bound,N=kr.d.bound,A=kr.d.bound,L=kr.d.bound,V=kr.d.bound,W=kr.d.bound,U=kr.d.bound,B=kr.d.bound,q=kr.d.bound,K=kr.d.bound,$=function(){function ControlStore(e){Jt()(this,ControlStore),yr()(this,"controlMap",G,this),yr()(this,"modifiers",X,this),yr()(this,"controls",Y,this),this.rootStore=e,this.InitializeControlMap()}return er()(ControlStore,[{key:"InitializeControlMap",value:function InitializeControlMap(){var e={};Object.values(this.controls).forEach(function(t){t.forEach(function(t){var r=t[0],n=t[1];r.forEach(function(t){e[t]={},n.action&&(e[t].action=n.action.action),n.shiftAction&&(e[t].shiftAction=n.shiftAction.action),n.altAction&&(e[t].altAction=n.altAction.action),n.controlAction&&(e[t].controlAction=n.controlAction.action)})})}),this.controlMap=e}},{key:"HandleModifiers",value:function HandleModifiers(e){var t="keydown"===e.type.toLowerCase();switch(e.key.toLowerCase()){case"control":this.modifiers.control=t;break;case"shift":this.modifiers.shift=t;break;case"alt":this.modifiers.alt=t;break;case"meta":this.modifiers.meta=t}if(t){var r=["arrowleft","arrowright","arrowup","arrowdown"].includes(e.key.toLowerCase());(this.modifiers.control||this.modifiers.shift||r)&&this.HandleInput(e)}}},{key:"HandleInput",value:function HandleInput(e){if(!document.activeElement||"input"!==document.activeElement.tagName.toLowerCase()){var t,r=this.controlMap[e.key]||{};!t&&this.modifiers.shift&&(t=r.shiftAction),!t&&this.modifiers.alt&&(t=r.altAction),!t&&this.modifiers.control&&(t=r.controlAction),t||(t=r.action),t&&(e.preventDefault(),t(e))}}},{key:"Save",value:function Save(){this.rootStore.editStore.Save()}},{key:"Undo",value:function Undo(){}},{key:"Redo",value:function Redo(){}},{key:"SeekFrames",value:function SeekFrames(e){var t=e.frames,r=e.seconds;this.rootStore.videoStore.SeekFrames({frames:t,seconds:r})}},{key:"PlayPause",value:function PlayPause(){this.rootStore.videoStore.PlayPause()}},{key:"PlayCurrentEntry",value:function PlayCurrentEntry(){this.rootStore.entryStore.PlayCurrentEntry()}},{key:"SetPlaybackRate",value:function SetPlaybackRate(e){this.rootStore.videoStore.SetPlaybackRate(e)}},{key:"ChangePlaybackRate",value:function ChangePlaybackRate(e){this.rootStore.videoStore.ChangePlaybackRate(e)}},{key:"ToggleFullscreen",value:function ToggleFullscreen(){this.rootStore.videoStore.ToggleFullscreen()}},{key:"ToggleMuted",value:function ToggleMuted(){this.rootStore.videoStore.ToggleMuted()}},{key:"SetVolume",value:function SetVolume(e){this.rootStore.videoStore.SetVolume(e*this.rootStore.videoStore.scale)}},{key:"ChangeVolume",value:function ChangeVolume(e){this.rootStore.videoStore.ChangeVolume(e*this.rootStore.videoStore.scale)}},{key:"ToggleTrackByIndex",value:function ToggleTrackByIndex(e){this.rootStore.trackStore.ToggleTrackByIndex(parseInt(e)-1)}}]),ControlStore}(),G=br()($.prototype,"controlMap",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=br()($.prototype,"modifiers",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{alt:!1,control:!1,shift:!1,meta:!1}}}),br()($.prototype,"InitializeControlMap",[_],Object.getOwnPropertyDescriptor($.prototype,"InitializeControlMap"),$.prototype),br()($.prototype,"HandleModifiers",[H],Object.getOwnPropertyDescriptor($.prototype,"HandleModifiers"),$.prototype),br()($.prototype,"HandleInput",[R],Object.getOwnPropertyDescriptor($.prototype,"HandleInput"),$.prototype),br()($.prototype,"Save",[F],Object.getOwnPropertyDescriptor($.prototype,"Save"),$.prototype),br()($.prototype,"SeekFrames",[D],Object.getOwnPropertyDescriptor($.prototype,"SeekFrames"),$.prototype),br()($.prototype,"PlayPause",[N],Object.getOwnPropertyDescriptor($.prototype,"PlayPause"),$.prototype),br()($.prototype,"PlayCurrentEntry",[A],Object.getOwnPropertyDescriptor($.prototype,"PlayCurrentEntry"),$.prototype),br()($.prototype,"SetPlaybackRate",[L],Object.getOwnPropertyDescriptor($.prototype,"SetPlaybackRate"),$.prototype),br()($.prototype,"ChangePlaybackRate",[V],Object.getOwnPropertyDescriptor($.prototype,"ChangePlaybackRate"),$.prototype),br()($.prototype,"ToggleFullscreen",[W],Object.getOwnPropertyDescriptor($.prototype,"ToggleFullscreen"),$.prototype),br()($.prototype,"ToggleMuted",[U],Object.getOwnPropertyDescriptor($.prototype,"ToggleMuted"),$.prototype),br()($.prototype,"SetVolume",[B],Object.getOwnPropertyDescriptor($.prototype,"SetVolume"),$.prototype),br()($.prototype,"ChangeVolume",[q],Object.getOwnPropertyDescriptor($.prototype,"ChangeVolume"),$.prototype),br()($.prototype,"ToggleTrackByIndex",[K],Object.getOwnPropertyDescriptor($.prototype,"ToggleTrackByIndex"),$.prototype),Y=br()($.prototype,"controls",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var e=this;return{Playback:[[["p"," "],{action:{description:"Play/Pause",action:this.PlayPause}}],[["l"],{action:{description:"Play current entry",action:this.PlayCurrentEntry}}],[["f"],{action:{description:"Toggle fullscreen",action:this.ToggleFullscreen}}],[["-"],{action:{description:"Reduce playback rate by 0.5x",action:function action(){return e.ChangePlaybackRate(-.5)}}}],[["["],{action:{description:"Reduce playback rate by 0.1x",action:function action(){return e.ChangePlaybackRate(-.1)}}}],[["="],{action:{description:"Reset playback rate to normal",action:function action(){return e.SetPlaybackRate(1)}}}],[["]"],{action:{description:"Increase playback rate by 0.1x",action:function action(){return e.ChangePlaybackRate(.1)}}}],[["+"],{action:{description:"Increase playback rate by 0.5x",action:function action(){return e.ChangePlaybackRate(.5)}}}]],Volume:[[["m"],{action:{description:"Toggle mute",action:this.ToggleMuted}}],[["ArrowDown"],{action:{description:"Reduce volume by 5%",action:function action(){return e.ChangeVolume(-.05)}},shiftAction:{description:"Reduce volume by 25%",action:function action(){return e.ChangeVolume(-.25)}}}],[["ArrowUp"],{action:{description:"Increase volume by 5%",action:function action(){return e.ChangeVolume(.05)}},shiftAction:{description:"Increase volume by 25%",action:function action(){return e.ChangeVolume(.25)}}}]],Seeking:[[["ArrowLeft"],{action:{description:"Go back 1 frame",action:function action(){return e.SeekFrames({frames:-1})}},shiftAction:{description:"Go back 1 second",action:function action(){return e.SeekFrames({seconds:-1})}},altAction:{description:"Go back 1 minute",action:function action(){return e.SeekFrames({seconds:-60})}}}],[["ArrowRight"],{action:{description:"Go forward 1 frame",action:function action(){return e.SeekFrames({frames:1})}},shiftAction:{description:"Go forward 1 second",action:function action(){return e.SeekFrames({seconds:1})}},altAction:{description:"Go forward 1 minute",action:function action(){return e.SeekFrames({seconds:60})}}}]],Tracks:[[["1","2","3","4","5","6","7","8","9"],{keyLabel:"1-9",action:{description:"Toggle the specified track",action:function action(t){return e.ToggleTrackByIndex(t.key)}}}]],Editing:[[["s"],{controlAction:{description:"Save",action:function action(){return e.Save()}}}],[["z"],{controlAction:{description:"Undo last action",action:function action(){return e.Undo()}}}],[["r"],{controlAction:{description:"Redo last action",action:function action(){return e.Redo()}}}]]}}}),$),Dr=(Z=kr.d.bound,J=kr.d.bound,Q=kr.d.bound,ee=kr.d.bound,te=kr.d.bound,re=kr.d.bound,ne=kr.d.bound,ie=kr.d.bound,ae=kr.d.bound,oe=function(){function MenuStore(e){Jt()(this,MenuStore),yr()(this,"libraryId",se,this),yr()(this,"objectId",le,this),yr()(this,"showMenu",ce,this),yr()(this,"libraries",ue,this),yr()(this,"objects",de,this),yr()(this,"selectedObject",pe,this),yr()(this,"SelectVideo",he,this),yr()(this,"ListLibraries",me,this),yr()(this,"ListObjects",ve,this),this.rootStore=e}return er()(MenuStore,[{key:"FilterVideos",value:function(){var e=mr()(pr.a.mark(function _callee2(e){var t,r,n=this;return pr.a.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return t=["ABR Master"],r={},e.forEach(function(e){return r[e.versions[0].type]=!1}),i.next=5,Promise.all(Object.keys(r).map(function(){var e=mr()(pr.a.mark(function _callee(e){var i;return pr.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.rootStore.client.ContentObjectMetadata({versionHash:e,metadataSubtree:"name"});case 2:i=a.sent,r[e]=t.includes(i);case 4:case"end":return a.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()));case 5:return i.abrupt("return",e.filter(function(e){return r[e.versions[0].type]}));case 6:case"end":return i.stop()}},_callee2)}));return function FilterVideos(t){return e.apply(this,arguments)}}()},{key:"ToggleMenu",value:function ToggleMenu(e){this.showMenu=e}},{key:"UpdateVersionHash",value:function UpdateVersionHash(e){this.selectedObject.versionHash=e}},{key:"SetLibraryId",value:function SetLibraryId(e){this.libraryId=e}},{key:"ClearLibraryId",value:function ClearLibraryId(){this.libraryId=""}},{key:"SetObjectId",value:function SetObjectId(e){this.objectId=e}},{key:"ClearObjectId",value:function ClearObjectId(){this.objectId=""}}]),MenuStore}(),se=br()(oe.prototype,"libraryId",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),le=br()(oe.prototype,"objectId",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),ce=br()(oe.prototype,"showMenu",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),ue=br()(oe.prototype,"libraries",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),de=br()(oe.prototype,"objects",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),pe=br()(oe.prototype,"selectedObject",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br()(oe.prototype,"ToggleMenu",[Z],Object.getOwnPropertyDescriptor(oe.prototype,"ToggleMenu"),oe.prototype),br()(oe.prototype,"UpdateVersionHash",[J],Object.getOwnPropertyDescriptor(oe.prototype,"UpdateVersionHash"),oe.prototype),he=br()(oe.prototype,"SelectVideo",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(kr.h)(pr.a.mark(function _callee3(e){var t,r,n,i,a;return pr.a.wrap(function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.libraryId,r=e.objectId,n=e.versionHash,this.rootStore.Reset(),this.selectedObject=void 0,n&&(r=this.rootStore.client.utils.DecodeVersionHash(n).objectId),t){o.next=8;break}return o.next=7,this.rootStore.client.ContentObjectLibraryId({objectId:r});case 7:t=o.sent;case 8:return window.self!==window.top&&this.rootStore.client.SendMessage({options:{operation:"SetFramePath",path:n||zr()(t,r)},noResponse:!0}),o.next=11,this.rootStore.client.ContentObject({libraryId:t,objectId:r,versionHash:n});case 11:return i=o.sent,n||(n=i.hash),o.next=15,this.rootStore.client.ContentObjectMetadata({objectId:r,versionHash:n});case 15:a=o.sent,this.selectedObject={libraryId:t,objectId:i.id,versionHash:n,name:a.name||n,metadata:a},this.rootStore.videoStore.SetVideo(this.selectedObject);case 18:case"end":return o.stop()}},_callee3,this)}))}}),me=br()(oe.prototype,"ListLibraries",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(kr.h)(pr.a.mark(function _callee5(){var e,t=this;return pr.a.wrap(function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.rootStore.client.ContentLibraries();case 2:return e=r.sent,this.libraries={},r.next=6,Promise.all(e.map(function(){var e=mr()(pr.a.mark(function _callee4(e){var r;return pr.a.wrap(function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.rootStore.client.ContentObjectMetadata({libraryId:e,objectId:e.replace("ilib","iq__")});case 3:(r=n.sent).name=r.name||e,t.libraries[e]={libraryId:e,metadata:r},n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",void 0);case 11:case"end":return n.stop()}},_callee4,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()));case 6:case"end":return r.stop()}},_callee5,this)}))}}),ve=br()(oe.prototype,"ListObjects",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(kr.h)(pr.a.mark(function _callee7(e){var t,r,n;return pr.a.wrap(function _callee7$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.rootStore.client.ContentObjectMetadata({libraryId:e,objectId:e.replace("ilib","iq__")});case 2:return(t=i.sent).name=t.name||e,this.libraries[e]={libraryId:e,metadata:t},i.next=7,this.rootStore.client.ContentObjects({libraryId:e,filterOptions:{select:["description","image","name","player_background","public"],limit:1e3,sort:"name"}});case 7:return r=i.sent,n=r.contents,i.next=11,this.FilterVideos(n);case 11:return n=i.sent,i.next=14,Promise.all(n.map(function(){var e=mr()(pr.a.mark(function _callee6(e){var t;return pr.a.wrap(function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.versions[0],r.abrupt("return",{objectId:t.id,versionHash:t.hash,metadata:t.meta});case 2:case"end":return r.stop()}},_callee6)}));return function(t){return e.apply(this,arguments)}}()));case 14:this.objects[e]=i.sent;case 15:case"end":return i.stop()}},_callee7,this)}))}}),br()(oe.prototype,"SetLibraryId",[re],Object.getOwnPropertyDescriptor(oe.prototype,"SetLibraryId"),oe.prototype),br()(oe.prototype,"ClearLibraryId",[ne],Object.getOwnPropertyDescriptor(oe.prototype,"ClearLibraryId"),oe.prototype),br()(oe.prototype,"SetObjectId",[ie],Object.getOwnPropertyDescriptor(oe.prototype,"SetObjectId"),oe.prototype),br()(oe.prototype,"ClearObjectId",[ae],Object.getOwnPropertyDescriptor(oe.prototype,"ClearObjectId"),oe.prototype),oe),Nr=(ye=kr.d.bound,fe=kr.d.bound,be=function(){function OverlayStore(e){Jt()(this,OverlayStore),yr()(this,"overlayTracks",ke,this),yr()(this,"overlayEnabled",ge,this),this.client=e}return er()(OverlayStore,[{key:"Reset",value:function Reset(){this.overlayTracks=[]}},{key:"AddOverlayTracks",value:function AddOverlayTracks(e){if(e){var t={};Object.keys(e).forEach(function(r){var n=e[r].object_detection;n&&0!==Object.keys(n).length&&(t[r]=Object.keys(n).map(function(e){return n[e].map(function(t){return Tr()({entryId:Hr.next(),entryType:"overlay",label:"Object Detection",text:e},t)})}).flat().filter(function(e){return e.confidence>.6}))}),Object.keys(t).length>0&&this.overlayTracks.push({label:"Object Detection",entries:t}),this.overlayEnabled=!0}}},{key:"ToggleOverlay",value:function ToggleOverlay(e){this.overlayEnabled=e}}]),OverlayStore}(),ke=br()(be.prototype,"overlayTracks",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),ge=br()(be.prototype,"overlayEnabled",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),br()(be.prototype,"AddOverlayTracks",[ye],Object.getOwnPropertyDescriptor(be.prototype,"AddOverlayTracks"),be.prototype),br()(be.prototype,"ToggleOverlay",[fe],Object.getOwnPropertyDescriptor(be.prototype,"ToggleOverlay"),be.prototype),be),Ar=r(129),Lr=r(130),Vr=r.n(Lr),Wr=r(179),Ur=(Te=kr.d.bound,Se=kr.d.bound,we=kr.d.bound,Ee=kr.d.bound,xe=kr.d.bound,Ce=kr.d.bound,Oe=kr.d.bound,Pe=kr.d.bound,je=kr.d.bound,Me=kr.d.bound,ze=kr.d.bound,Ie=kr.d.bound,_e=kr.d.bound,He=kr.d.bound,Re=kr.d.bound,Fe=function(){function Tracks(e){var t=this;Jt()(this,Tracks),yr()(this,"tracks",De,this),yr()(this,"audioTracks",Ne,this),yr()(this,"subtitleTracks",Ae,this),yr()(this,"metadataTracks",Le,this),yr()(this,"selectedTrack",Ve,this),yr()(this,"editingTrack",We,this),this.AudioTracksFromHLSPlaylist=Object(kr.h)(pr.a.mark(function _callee2(){var e,t,r=this;return pr.a.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.ParsedHLSPlaylist();case 2:if(e=n.sent,t=e.mediaGroups.AUDIO.audio){n.next=6;break}return n.abrupt("return",[]);case 6:return n.next=8,Promise.all(Object.keys(t).map(function(){var e=mr()(pr.a.mark(function _callee(e){var n,i,a,o,s,l;return pr.a.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return n=t[e].uri,i=zr()(r.BasePlayoutUrl(),n),c.next=4,r.ParsedHLSPlaylist(i);case 4:if(a=c.sent,o=i.replace("playlist.m3u8","init.m4s"),a){c.next=8;break}return c.abrupt("return");case 8:return s=i.split("?")[0].replace("playlist.m3u8",""),l=a.segments.map(function(e,t){return{number:t,url:zr()(s,e.uri),duration:e.duration}}),c.abrupt("return",{initSegmentUrl:o,segments:l});case 11:case"end":return c.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},_callee2,this)})),this.SubtitleTracksFromHLSPlaylist=Object(kr.h)(pr.a.mark(function _callee4(){var e,t,r,n=this;return pr.a.wrap(function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.ParsedHLSPlaylist();case 2:if(e=i.sent,t=e.mediaGroups.SUBTITLES.subs){i.next=6;break}return i.abrupt("return",[]);case 6:return r=[],i.next=9,Promise.all(Object.keys(t).map(function(){var e=mr()(pr.a.mark(function _callee3(e){var i,a,o,s,l,c,u;return pr.a.wrap(function _callee3$(d){for(;;)switch(d.prev=d.next){case 0:return i=t[e].uri,a=zr()(n.BasePlayoutUrl(),i),d.next=4,n.ParsedHLSPlaylist(a);case 4:if(o=d.sent){d.next=7;break}return d.abrupt("return");case 7:return s=o.segments[0].uri,l=a.split("?")[0].replace("playlist.m3u8",""),c=zr()(l,s),d.next=12,fetch(c);case 12:return d.next=14,d.sent.text();case 14:u=d.sent,r.push({label:e,vttData:u});case 16:case"end":return d.stop()}},_callee3)}));return function(t){return e.apply(this,arguments)}}()));case 9:return i.abrupt("return",r);case 10:case"end":return i.stop()}},_callee4,this)})),yr()(this,"AddAudioSegment",Ue,this),yr()(this,"AddAudioTracks",Be,this),this.AddTracksFromTags=function(e){if(!e)return[];var r=[];return Object.keys(e).forEach(function(n){var i={};e[n].tags.forEach(function(e){var r=t.Cue({entryType:"metadata",startTime:e.start_time,endTime:e.end_time,text:e.text,entry:e});i[r.entryId]=r}),r.push({label:e[n].label,trackType:"metadata",key:n,entries:i})}),r},this.AddSubtitleTracks=Object(kr.h)(pr.a.mark(function _callee5(){var e=this;return pr.a.wrap(function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.SubtitleTracksFromHLSPlaylist();case 2:t.sent.map(function(t){var r=e.ParseVTTTrack(t);e.tracks.push(Tr()({trackId:Hr.next()},t,{trackType:"vtt",entries:r,intervalTree:e.TrackIntervalTree(r)}))});case 4:case"end":return t.stop()}},_callee5,this)})),this.rootStore=e}return er()(Tracks,[{key:"Reset",value:function Reset(){this.tracks=[],this.audioTracks=[],this.subtitleTracks=[],this.metadataTracks=[],this.selectedTrack=void 0,this.editingTrack=!1}},{key:"BasePlayoutUrl",value:function BasePlayoutUrl(){return this.rootStore.videoStore.source.split("?")[0].replace("playlist.m3u8","")}},{key:"ParsedHLSPlaylist",value:function(){var e=mr()(pr.a.mark(function _callee6(e){var t,r;return pr.a.wrap(function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:return e||(e=this.rootStore.videoStore.source),n.next=3,fetch(e);case 3:return n.next=5,n.sent.text();case 5:return t=n.sent,(r=new Wr.a).push(t),r.end(),n.abrupt("return",r.manifest);case 10:case"end":return n.stop()}},_callee6,this)}));return function ParsedHLSPlaylist(t){return e.apply(this,arguments)}}()},{key:"Cue",value:function Cue(e){var t=e.entryType,r=e.label,n=e.startTime,i=e.endTime,a=e.text,o=e.entry;return"string"==typeof n&&n.split(":").length>1&&(n=this.rootStore.videoStore.videoHandler.SMPTEToTime(n),i=this.rootStore.videoStore.videoHandler.SMPTEToTime(i)),{entryId:Hr.next(),entryType:t,label:r,startTime:n,endTime:i,text:a,entry:o}}},{key:"FormatVTTCue",value:function FormatVTTCue(e,t){var r={};return["align","endTime","id","line","lineAlign","position","positionAlign","region","size","snapToLines","startTime","text","vertical"].forEach(function(e){return r[e]=t[e]}),this.Cue({entryType:"vtt",label:e,startTime:t.startTime,endTime:t.endTime,text:t.text,entry:r})}},{key:"ParseVTTTrack",value:function ParseVTTTrack(e){var t=this,r=new Ar.WebVTT.Parser(window,Ar.WebVTT.StringDecoder()),n={};r.oncue=function(r){var i=t.FormatVTTCue(e.label,r);n[i.entryId]=i};try{r.parse(e.vttData),r.flush()}catch(t){console.error("VTT cue parse failure on track ".concat(e.label,": ")),console.error(t)}return n}},{key:"TrackIntervalTree",value:function TrackIntervalTree(e){var t=new Vr.a;return Object.values(e).forEach(function(e){return t.insert(e.startTime,e.endTime,e.entryId)}),t}},{key:"AddMetadataTracks",value:function AddMetadataTracks(){var e=this;this.AddTracksFromTags(this.rootStore.videoStore.metadata.metadata_tags).map(function(t){e.tracks.push({trackId:Hr.next(),version:1,label:t.label,key:t.key,trackType:"metadata",entries:t.entries,intervalTree:e.TrackIntervalTree(t.entries)})})}},{key:"InitializeTracks",value:function InitializeTracks(){this.AddSubtitleTracks(),this.AddMetadataTracks(),this.AddAudioTracks()}},{key:"SelectedTrack",value:function SelectedTrack(){var e=this;if(this.selectedTrack)return this.tracks.find(function(t){return t.trackId===e.selectedTrack})}},{key:"SetSelectedTrack",value:function SetSelectedTrack(e){this.selectedTrack!==e&&(this.selectedTrack=e,this.rootStore.entryStore.ClearFilter(),this.ClearEditing())}},{key:"ClearSelectedTrack",value:function ClearSelectedTrack(){this.SetSelectedTrack(void 0)}},{key:"ToggleTrack",value:function ToggleTrack(e){var t=this.tracks.find(function(t){return t.label===e});t&&(t.active=this.rootStore.videoStore.ToggleTrack(e))}},{key:"ToggleTrackByIndex",value:function ToggleTrackByIndex(e){var t=this.tracks[e];t&&(t.active=this.rootStore.videoStore.ToggleTrack(t.label))}},{key:"SetEditing",value:function SetEditing(e){this.SetSelectedTrack(e),this.editingTrack=!0}},{key:"ClearEditing",value:function ClearEditing(){this.editingTrack=!1}},{key:"CreateTrack",value:function CreateTrack(e){var t=e.label,r=e.key,n=Hr.next();this.tracks.push({trackId:n,version:1,label:t,key:r,trackType:"metadata",entries:{},intervalTree:new Vr.a}),this.rootStore.entryStore.ClearSelectedEntry(),this.SetEditing(n)}},{key:"EditTrack",value:function EditTrack(e){var t=e.trackId,r=e.label,n=e.key,i=this.tracks.find(function(e){return e.trackId===t});i.label=r,i.key=n,this.ClearEditing()}},{key:"ModifyTrack",value:function ModifyTrack(e){var t=this.SelectedTrack();e(t),t.intervalTree=this.TrackIntervalTree(t.entries),t.version+=1}},{key:"RemoveTrack",value:function RemoveTrack(e){this.ClearSelectedTrack(),this.tracks=this.tracks.filter(function(t){return t.trackId!==e})}},{key:"AddEntry",value:function AddEntry(e){var t=e.trackId,r=e.text,n=e.startTime,i=e.endTime,a=this.tracks.find(function(e){return e.trackId===t}),o=this.Cue({entryType:"metadata",text:r,startTime:n,endTime:i});return a.entries[o.entryId]=o,o.entryId}}]),Tracks}(),De=br()(Fe.prototype,"tracks",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),Ne=br()(Fe.prototype,"audioTracks",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),Ae=br()(Fe.prototype,"subtitleTracks",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),Le=br()(Fe.prototype,"metadataTracks",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),Ve=br()(Fe.prototype,"selectedTrack",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=br()(Fe.prototype,"editingTrack",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Ue=br()(Fe.prototype,"AddAudioSegment",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(kr.h)(pr.a.mark(function _callee7(e,t,r,n,i){var a,o,s,l,c,u,d,p,h,m;return pr.a.wrap(function _callee7$(v){for(;;)switch(v.prev=v.next){case 0:return a=new AudioContext,o=a.createBufferSource(),v.next=4,new Promise(function(e,r){try{a.decodeAudioData(t,function(t){o.buffer=t,e()})}catch(e){console.error("Failed to decode audio segment"),console.error(e),r(e)}});case 4:s=r*n,l=Math.ceil(o.buffer.duration*i),c=o.buffer.getChannelData(0),u=Math.round(c.length/l),d=1/i,p=0,h=Er()(Array(l).keys()).map(function(e){return c.slice(e*u,(e+1)*u)}).map(function(e,t){var r=Math.max.apply(Math,Er()(e));return r>p&&(p=r),{startTime:s+t*d,endTime:s+(t+1)*d,max:r}}).sort(function(e,t){return e.startTime<t.startTime?-1:1}),(m=this.audioTracks.find(function(t){return t.trackId===e}))&&(m.entries=[].concat(Er()(m.entries),[h]),p>m.max&&(m.max=p));case 13:case"end":return v.stop()}},_callee7,this)}))}}),Be=br()(Fe.prototype,"AddAudioTracks",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(kr.h)(pr.a.mark(function _callee10(){var e,t,r,n=this;return pr.a.wrap(function _callee10$(i){for(;;)switch(i.prev=i.next){case 0:return e=this.rootStore.videoStore.versionHash,t=3,i.next=4,this.AudioTracksFromHLSPlaylist();case 4:return r=i.sent,i.next=7,Promise.all(r.map(function(){var r=mr()(pr.a.mark(function _callee9(r){var i,a,o,s,l;return pr.a.wrap(function _callee9$(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,i=Hr.next(),n.audioTracks.push({trackId:i,label:"Audio",trackType:"audio",entries:[],max:0}),a=r.segments.reduce(function(e,t){return e+t.duration},0),o=a<300?20:8,c.t0=Uint8Array,c.next=8,fetch(r.initSegmentUrl,{headers:{"Content-type":"audio/mp4"}});case 8:return c.next=10,c.sent.arrayBuffer();case 10:return c.t1=c.sent,s=new c.t0(c.t1),l=jr(r.segments,t),c.next=15,Promise.all(l.map(function(){var t=mr()(pr.a.mark(function _callee8(t){var r,a,l,c;return pr.a.wrap(function _callee8$(u){for(;;)switch(u.prev=u.next){case 0:r=0;case 1:if(!(r<t.length)){u.next=19;break}if(n.rootStore.videoStore.versionHash===e){u.next=4;break}return u.abrupt("return");case 4:return a=t[r],u.t0=Uint8Array,u.next=8,fetch(a.url);case 8:return u.next=10,u.sent.arrayBuffer();case 10:u.t1=u.sent,l=new u.t0(u.t1),(c=new Int8Array(s.byteLength+l.byteLength)).set(s),c.set(l,s.byteLength),n.AddAudioSegment(i,c.buffer,a.duration,a.number,o);case 16:r++,u.next=1;break;case 19:case"end":return u.stop()}},_callee8)}));return function(e){return t.apply(this,arguments)}}()));case 15:c.next=20;break;case 17:c.prev=17,c.t2=c.catch(0),console.error(c.t2);case 20:case"end":return c.stop()}},_callee9,null,[[0,17]])}));return function(e){return r.apply(this,arguments)}}()));case 7:case"end":return i.stop()}},_callee10,this)}))}}),br()(Fe.prototype,"InitializeTracks",[we],Object.getOwnPropertyDescriptor(Fe.prototype,"InitializeTracks"),Fe.prototype),br()(Fe.prototype,"SelectedTrack",[Ee],Object.getOwnPropertyDescriptor(Fe.prototype,"SelectedTrack"),Fe.prototype),br()(Fe.prototype,"SetSelectedTrack",[xe],Object.getOwnPropertyDescriptor(Fe.prototype,"SetSelectedTrack"),Fe.prototype),br()(Fe.prototype,"ClearSelectedTrack",[Ce],Object.getOwnPropertyDescriptor(Fe.prototype,"ClearSelectedTrack"),Fe.prototype),br()(Fe.prototype,"ToggleTrack",[Oe],Object.getOwnPropertyDescriptor(Fe.prototype,"ToggleTrack"),Fe.prototype),br()(Fe.prototype,"ToggleTrackByIndex",[Pe],Object.getOwnPropertyDescriptor(Fe.prototype,"ToggleTrackByIndex"),Fe.prototype),br()(Fe.prototype,"SetEditing",[je],Object.getOwnPropertyDescriptor(Fe.prototype,"SetEditing"),Fe.prototype),br()(Fe.prototype,"ClearEditing",[Me],Object.getOwnPropertyDescriptor(Fe.prototype,"ClearEditing"),Fe.prototype),br()(Fe.prototype,"CreateTrack",[ze],Object.getOwnPropertyDescriptor(Fe.prototype,"CreateTrack"),Fe.prototype),br()(Fe.prototype,"EditTrack",[Ie],Object.getOwnPropertyDescriptor(Fe.prototype,"EditTrack"),Fe.prototype),br()(Fe.prototype,"ModifyTrack",[_e],Object.getOwnPropertyDescriptor(Fe.prototype,"ModifyTrack"),Fe.prototype),br()(Fe.prototype,"RemoveTrack",[He],Object.getOwnPropertyDescriptor(Fe.prototype,"RemoveTrack"),Fe.prototype),br()(Fe.prototype,"AddEntry",[Re],Object.getOwnPropertyDescriptor(Fe.prototype,"AddEntry"),Fe.prototype),Fe),Br=r(15),qr=r.n(Br),Kr={NTSC:qr()(3e4).div(1001),NTSCFilm:qr()(24e3).div(1001),NTSCHD:qr()(6e4).div(1001),PAL:qr()(25),PALHD:qr()(50),Film:qr()(24),Web:qr()(30),High:qr()(60)},$r=function(){function FrameAccurateVideo(e){var t=e.video,r=e.frameRate,n=e.dropFrame,i=void 0!==n&&n,a=e.callback;Jt()(this,FrameAccurateVideo),this.video=t,this.frameRate=r||Kr.NTSC,this.dropFrame=i&&(r.equals(Kr.NTSC)||r.equals(Kr.NTSC_HD)),this.callback=a,a&&this.RegisterCallback(),this.Update=this.Update.bind(this)}return er()(FrameAccurateVideo,[{key:"ProgressToTime",value:function ProgressToTime(e){var t=this.video.duration||0;return qr()(e).mul(t).valueOf()}},{key:"ProgressToSMPTE",value:function ProgressToSMPTE(e){var t=this.video.duration||0;return this.TimeToSMPTE(qr()(e).mul(t))}},{key:"TimeToFrame",value:function TimeToFrame(e){return qr()(e||0).mul(this.frameRate)}},{key:"TimeToSMPTE",value:function TimeToSMPTE(e){return this.SMPTE(this.TimeToFrame(e))}},{key:"SMPTEToFrame",value:function SMPTEToFrame(e){var t=e.split(":").reverse(),r=qr()(t[0]),n=qr()(t[1]),i=qr()(t[2]),a=qr()(t[3]||0),o=0;if(this.dropFrame){var s=this.frameRate.equals(Kr.NTSCHD)?qr()(4):qr()(2),l=i.add(a.mul(60)),c=l.div(10).floor();o=l.mul(s).sub(c.mul(s))}return r.add(n.mul(this.frameRate.round())).add(i.mul(this.frameRate.round()).mul(60)).add(a.mul(this.frameRate.round()).mul(60).mul(60)).sub(o).valueOf()}},{key:"SMPTEToTime",value:function SMPTEToTime(e){var t=this.SMPTEToFrame(e);return qr()(t).div(this.frameRate).valueOf()}},{key:"Frame",value:function Frame(){return this.TimeToFrame(this.video.currentTime)}},{key:"Pad",value:function Pad(e){return(e=e.valueOf())<10?"0".concat(e):e}},{key:"SMPTE",value:function SMPTE(e){var t=(e?qr()(e):this.Frame()).floor(),r=this.frameRate.round();if(this.dropFrame){var n=this.frameRate.equals(Kr.NTSCHD)?qr()(4):qr()(2),i=qr()("17982").mul(n).div(2),a=qr()("1798").mul(n).div(2),o=t.div(i).floor(),s=t.mod(i);s.compare(n)<0&&(s=s.add(n)),t=t.add(n.mul(o).mul("9").add(n.mul(s.sub(n).div(a).floor())))}var l=t.div(r.mul(3600)).mod(24).floor(),c=t.div(r.mul(60)).mod(60).floor(),u=t.div(r).mod(60).floor(),d=t.mod(r).floor();return"".concat(this.Pad(l),":").concat(this.Pad(c),":").concat(this.Pad(u),":").concat(this.Pad(d))}},{key:"Progress",value:function Progress(){return isNaN(this.video.duration)?qr()(0):qr()(this.video.currentTime).div(this.video.duration)}},{key:"TotalFrames",value:function TotalFrames(){return qr()(this.video.duration||0).mul(this.frameRate).valueOf()}},{key:"SeekForward",value:function SeekForward(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.Frame();this.Seek(t.add(e))}},{key:"SeekBackward",value:function SeekBackward(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=qr()(this.Frame());this.Seek(t.sub(e))}},{key:"SeekPercentage",value:function SeekPercentage(e){this.Seek(qr()(this.TotalFrames()).mul(e))}},{key:"Seek",value:function Seek(e){e=qr()(e).floor().add(.5),this.video.currentTime=e.div(this.frameRate).valueOf().toString()}},{key:"Update",value:function Update(){this.callback&&this.callback({frame:this.Frame().valueOf(),smpte:this.SMPTE(),progress:this.Progress().valueOf()})}},{key:"RegisterCallback",value:function RegisterCallback(){var e=this;this.Update(),this.video.onseeked=function(t){return e.Update(t)},this.video.onseeking=function(t){return e.Update(t)},this.video.onplay=function(){return e.AddListener()},this.video.onpause=function(){e.Seek(e.Frame().add(e.frameRate.valueOf()>30?2:1)),e.RemoveListener()},this.video.onended=function(){return e.RemoveListener()},this.video.onratechange=function(){e.listener&&(e.RemoveListener(),e.AddListener())}}},{key:"RemoveCallback",value:function RemoveCallback(){this.video.onseeked=void 0,this.video.onseeking=void 0,this.video.onplay=void 0,this.video.onpause=void 0,this.video.onended=void 0,this.video.onratechange=void 0}},{key:"AddListener",value:function AddListener(){var e=this,t=qr()(this.video.playbackRate).mul(this.frameRate).add(qr()("0.00001")),r=Math.min(Math.max(qr()(1e3).div(t).valueOf(),20),100);this.listener=setInterval(function(){e.video.paused||e.video.ended||e.Update()},r)}},{key:"RemoveListener",value:function RemoveListener(){this.listener&&clearInterval(this.listener),this.Update()}}]),FrameAccurateVideo}(),Gr=r(80),Xr=r.n(Gr),Yr=r(96),Zr=r.n(Yr),Jr=(qe=kr.d.bound,Ke=kr.d.bound,$e=kr.d.bound,Ge=kr.d.bound,Xe=kr.d.bound,Ye=kr.d.bound,Ze=kr.d.bound,Je=kr.d.bound,Qe=kr.d.bound,et=kr.d.bound,tt=kr.d.bound,rt=kr.d.bound,nt=kr.d.bound,it=kr.d.bound,at=kr.d.bound,ot=kr.d.bound,st=kr.d.bound,lt=kr.d.bound,ct=kr.d.bound,ut=kr.d.bound,dt=kr.d.bound,pt=kr.d.bound,ht=kr.d.bound,mt=kr.d.bound,vt=kr.d.bound,yt=kr.d.bound,ft=kr.d.bound,bt=function(){function VideoStore(e){Jt()(this,VideoStore),yr()(this,"versionHash",kt,this),yr()(this,"metadata",gt,this),yr()(this,"name",Tt,this),yr()(this,"videoTags",St,this),yr()(this,"loading",wt,this),yr()(this,"initialized",Et,this),yr()(this,"levels",xt,this),yr()(this,"currentLevel",Ct,this),yr()(this,"source",Ot,this),yr()(this,"poster",Pt,this),yr()(this,"baseVideoFrameUrl",jt,this),yr()(this,"previewSupported",Mt,this),yr()(this,"dropFrame",zt,this),yr()(this,"frameRateKey",It,this),yr()(this,"frameRate",_t,this),yr()(this,"currentTime",Ht,this),yr()(this,"frame",Rt,this),yr()(this,"smpte",Ft,this),yr()(this,"duration",Dt,this),yr()(this,"playing",Nt,this),yr()(this,"playbackRate",At,this),yr()(this,"fullScreen",Lt,this),yr()(this,"volume",Vt,this),yr()(this,"muted",Wt,this),yr()(this,"seek",Ut,this),yr()(this,"scale",Bt,this),yr()(this,"scaleMin",qt,this),yr()(this,"scaleMax",Kt,this),yr()(this,"segmentEnd",$t,this),yr()(this,"SetVideo",Gt,this),this.rootStore=e}return er()(VideoStore,[{key:"scaleMinTime",get:function get(){return this.ProgressToTime(this.scaleMin/this.scale)}},{key:"scaleMaxTime",get:function get(){return this.ProgressToTime(this.scaleMax/this.scale)}},{key:"scaleMinSMPTE",get:function get(){return this.ProgressToSMPTE(this.scaleMin/this.scale)}},{key:"scaleMaxSMPTE",get:function get(){return this.ProgressToSMPTE(this.scaleMax/this.scale)}}]),er()(VideoStore,[{key:"Reset",value:function Reset(){this.loading=!0,this.initialized=!1,this.video=void 0,this.player=void 0,this.levels=[],this.currentLevel=void 0,this.videoHandler&&(this.videoHandler.RemoveCallback(),this.videoHandler=void 0),this.versionHash="",this.metadata={},this.name="",this.videoTags=[],this.source=void 0,this.poster=void 0,this.baseVideoFrameUrl=void 0,this.previewSupported=!1,this.dropFrame=!1,this.frameRateKey="NTSC",this.frameRate=Kr.NTSC,this.currentTime=0,this.frame=0,this.smpte="00:00:00:00",this.playing=!1,this.playbackRate=1,this.fullScreen=!1,this.volume=100,this.muted=!1,this.seek=0,this.scale=1e4,this.scaleMin=0,this.scaleMax=this.scale,this.segmentEnd=void 0,this.rootStore.entryStore.ClearEntries()}},{key:"Initialize",value:function Initialize(e,t){var r=this;this.video=e,this.player=t;var n=new $r({video:e,frameRate:this.frameRate,dropFrame:this.dropFrame,callback:this.Update});this.videoHandler=n,e.load(),e.parentElement.parentElement.onfullscreenchange=Object(kr.d)(function(){return r.fullScreen=!r.fullScreen}),this.volume=e.volume,this.muted=e.muted,this.player.on(Zr.a.Events.LEVEL_SWITCHED,Object(kr.d)(function(){r.levels=r.player.levels,r.currentLevel=r.player.currentLevel})),this.video.addEventListener("pause",Object(kr.d)(function(){return r.playing=!1})),this.video.addEventListener("play",Object(kr.d)(function(){return r.playing=!0})),this.video.addEventListener("ratechange",Object(kr.d)(function(){return r.playbackRate=r.video.playbackRate})),this.video.addEventListener("volumechange",Object(kr.d)(function(){r.volume=e.volume*r.scale,r.muted=e.muted})),this.video.addEventListener("click",Object(kr.d)(function(){r.click?(clearTimeout(r.click),r.click=void 0,r.ToggleFullscreen()):r.click=setTimeout(function(){r.video.paused?r.video.play():r.video.pause(),r.click=void 0},200)}));var i=this.source;this.video.addEventListener("durationchange",Object(kr.d)(function(){r.source===i&&r.video.duration>0&&isFinite(r.video.duration)&&(n.Update(),r.initialized=!0)})),this.video.addEventListener("error",function(){console.error("Video error: "+e.error.code)})}},{key:"ToggleTrack",value:function ToggleTrack(e){var t=Array.from(this.video.textTracks).find(function(t){return t.label===e});if(t)return"showing"===t.mode?(t.mode="disabled",!1):(t.mode="showing",!0)}},{key:"ProgressToTime",value:function ProgressToTime(e){return this.videoHandler?this.videoHandler.ProgressToSMPTE(e/this.scale):0}},{key:"ProgressToSMPTE",value:function ProgressToSMPTE(e){if(this.videoHandler)return this.videoHandler.ProgressToSMPTE(e/this.scale)}},{key:"TimeToSMPTE",value:function TimeToSMPTE(e){if(this.videoHandler)return this.videoHandler.TimeToSMPTE(e)}},{key:"TimeToFrame",value:function TimeToFrame(e){return this.videoHandler?this.videoHandler.TimeToFrame(e).floor().valueOf():0}},{key:"Update",value:function Update(e){var t=e.frame,r=e.smpte,n=e.progress;if(this.video){if(this.frame=Math.floor(t),this.smpte=r,this.seek=n*this.scale,this.duration=this.video.duration,this.currentTime=this.video.currentTime,this.seek<this.scaleMin&&(this.scaleMin=this.seek),this.playing&&this.seek>this.scaleMax){var i=this.scaleMax-this.scaleMin;this.scaleMax=Math.min(this.scale,this.scaleMax+i/2),this.scaleMin=this.scaleMax-i}this.segmentEnd&&this.frame>=this.segmentEnd-3&&(this.video.pause(),this.Seek(this.segmentEnd-1),this.segmentEnd=void 0)}}},{key:"PlayPause",value:function PlayPause(){this.video.paused?this.video.play():this.video.pause()}},{key:"SetPlaybackLevel",value:function SetPlaybackLevel(e){this.player.levelController.manualLevel=e,this.player.streamController.immediateLevelSwitch()}},{key:"SetPlaybackRate",value:function SetPlaybackRate(e){this.video.playbackRate=e}},{key:"ChangePlaybackRate",value:function ChangePlaybackRate(e){this.video.playbackRate=Math.min(4,Math.max(.1,this.video.playbackRate+e))}},{key:"SetFrameRate",value:function SetFrameRate(e){this.frameRateKey=e,this.frameRate=Kr[e],this.videoHandler.frameRate=this.frameRate,this.videoHandler.Update()}},{key:"SetDropFrame",value:function SetDropFrame(e){this.dropFrame=e,this.videoHandler.dropFrame=this.dropFrame,this.videoHandler.Update()}},{key:"ScrollScale",value:function ScrollScale(e,t){if(this.video&&this.video.duration){var r,n;if(t>0){t*=-.003*this.scale;var i=this.scale*e,a=this.scaleMax-this.scaleMin;r=t*(i-this.scaleMin)/a,n=t*(this.scaleMax-i)/a}else r=t*=-.002*this.scale,n=t;this.SetScale(Math.max(0,this.scaleMin+r),this.seek,Math.min(this.scale,this.scaleMax-n))}}},{key:"SetScale",value:function SetScale(e,t,r){var n=.015*this.scale;r-e<n||(e>=t?e===this.scaleMin?e=Math.max(0,e-n):t+=n:t>=r&&(r===this.scaleMax?r=Math.min(this.scale,r+n):t-=n),this.scaleMin=e,this.scaleMax=r,this.SeekPercentage(t/this.scale,!1))}},{key:"ScaleMinTime",value:function ScaleMinTime(){return qr()(this.scaleMin).div(this.scale).mul(this.video.duration).valueOf()}},{key:"ScaleMaxTime",value:function ScaleMaxTime(){return qr()(this.scaleMax).div(this.scale).mul(this.video.duration).valueOf()}},{key:"PlaySegment",value:function PlaySegment(e,t){this.Seek(e),this.segmentEnd=t,this.video.play()}},{key:"Seek",value:function Seek(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.segmentEnd=void 0),this.videoHandler.Seek(e)}},{key:"SeekPercentage",value:function SeekPercentage(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.segmentEnd=void 0),this.videoHandler.SeekPercentage(e)}},{key:"SeekFrames",value:function SeekFrames(e){var t=e.frames,r=void 0===t?0:t,n=e.seconds,i=void 0===n?0:n;i&&(r+=this.frameRate.ceil().mul(i));var a=this.frame+r,o=a/this.videoHandler.TotalFrames()*this.scale,s=.015*this.scale,l=this.scaleMax-this.scaleMin;o<=this.scaleMin?(this.scaleMin=Math.max(0,o-s),this.scaleMax=this.scaleMin+l):o>=this.scaleMax&&(this.scaleMax=Math.min(this.scale,o+s),this.scaleMin=this.scaleMax-l),this.videoHandler.Seek(a)}},{key:"ScrollVolume",value:function ScrollVolume(e){var t=this.muted?0:this.volume;this.SetVolume(Math.max(0,Math.min(this.scale,t-e*this.scale*.01)))}},{key:"SetVolume",value:function SetVolume(e){this.video.volume=e/this.scale,0===e?this.video.muted=!0:this.video.muted&&0!==e&&(this.video.muted=!1)}},{key:"ChangeVolume",value:function ChangeVolume(e){this.video.volume=Math.max(0,Math.min(1,this.video.volume+e/this.scale)),0===this.video.volume?this.video.muted=!0:this.video.muted&&0!==this.video.volume&&(this.video.muted=!1)}},{key:"SetMuted",value:function SetMuted(e){this.video.muted=e,0===this.video.volume&&(this.video.volume=.5)}},{key:"ToggleMuted",value:function ToggleMuted(){this.video.muted=!this.video.muted,0===this.video.volume&&(this.video.volume=.5)}},{key:"ToggleFullscreen",value:function ToggleFullscreen(){if(this.fullScreen)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{var e=this.video.parentElement.parentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}},{key:"VideoFrame",value:function VideoFrame(e){return Xr()(this.baseVideoFrameUrl).addSearch("frame",e).toString()}}]),VideoStore}(),kt=br()(bt.prototype,"versionHash",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),gt=br()(bt.prototype,"metadata",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),Tt=br()(bt.prototype,"name",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=br()(bt.prototype,"videoTags",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),wt=br()(bt.prototype,"loading",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Et=br()(bt.prototype,"initialized",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),xt=br()(bt.prototype,"levels",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),Ct=br()(bt.prototype,"currentLevel",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=br()(bt.prototype,"source",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=br()(bt.prototype,"poster",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=br()(bt.prototype,"baseVideoFrameUrl",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),Mt=br()(bt.prototype,"previewSupported",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),zt=br()(bt.prototype,"dropFrame",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),It=br()(bt.prototype,"frameRateKey",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"NTSC"}}),_t=br()(bt.prototype,"frameRate",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Kr.NTSC}}),Ht=br()(bt.prototype,"currentTime",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),Rt=br()(bt.prototype,"frame",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),Ft=br()(bt.prototype,"smpte",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"00:00:00:00"}}),Dt=br()(bt.prototype,"duration",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=br()(bt.prototype,"playing",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),At=br()(bt.prototype,"playbackRate",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 1}}),Lt=br()(bt.prototype,"fullScreen",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Vt=br()(bt.prototype,"volume",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 100}}),Wt=br()(bt.prototype,"muted",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Ut=br()(bt.prototype,"seek",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),Bt=br()(bt.prototype,"scale",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 1e4}}),qt=br()(bt.prototype,"scaleMin",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),Kt=br()(bt.prototype,"scaleMax",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return this.scale}}),$t=br()(bt.prototype,"segmentEnd",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),br()(bt.prototype,"scaleMinTime",[kr.e],Object.getOwnPropertyDescriptor(bt.prototype,"scaleMinTime"),bt.prototype),br()(bt.prototype,"scaleMaxTime",[kr.e],Object.getOwnPropertyDescriptor(bt.prototype,"scaleMaxTime"),bt.prototype),br()(bt.prototype,"scaleMinSMPTE",[kr.e],Object.getOwnPropertyDescriptor(bt.prototype,"scaleMinSMPTE"),bt.prototype),br()(bt.prototype,"scaleMaxSMPTE",[kr.e],Object.getOwnPropertyDescriptor(bt.prototype,"scaleMaxSMPTE"),bt.prototype),br()(bt.prototype,"Reset",[qe],Object.getOwnPropertyDescriptor(bt.prototype,"Reset"),bt.prototype),Gt=br()(bt.prototype,"SetVideo",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(kr.h)(pr.a.mark(function _callee(e){var t,r,n;return pr.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return this.loading=!0,i.prev=1,this.name=e.name,this.versionHash=e.versionHash,i.next=6,this.rootStore.client.PlayoutOptions({versionHash:e.versionHash,protocols:["hls"],drms:[]});case 6:if(t=i.sent,r=t.hls.playoutUrl,!e.metadata.image&&!e.metadata.public.image){i.next=12;break}return i.next=11,this.rootStore.client.Rep({versionHash:e.versionHash,rep:"player_background",channelAuth:!0});case 11:n=i.sent;case 12:return this.videoTags=e.metadata.video_level_tags||[],i.next=15,this.rootStore.client.Rep({versionHash:e.versionHash,rep:zr()("playout","default","frames.png")});case 15:return this.baseVideoFrameUrl=i.sent,i.prev=16,i.next=19,fetch(Xr()(this.baseVideoFrameUrl).addSearch("frame",0).toString());case 19:i.sent.ok?this.previewSupported=!0:console.error("Preview not supported for this content"),i.next=26;break;case 23:i.prev=23,i.t0=i.catch(16),console.error("Preview not supported for this content");case 26:this.source=r,this.poster=n,this.metadata=e.metadata;case 29:return i.prev=29,this.loading=!1,i.finish(29);case 32:this.rootStore.overlayStore.AddOverlayTracks(this.metadata.overlay_tags),this.rootStore.trackStore.InitializeTracks();case 34:case"end":return i.stop()}},_callee,this,[[1,,29,32],[16,23]])}))}}),br()(bt.prototype,"Initialize",[$e],Object.getOwnPropertyDescriptor(bt.prototype,"Initialize"),bt.prototype),br()(bt.prototype,"ProgressToTime",[Ge],Object.getOwnPropertyDescriptor(bt.prototype,"ProgressToTime"),bt.prototype),br()(bt.prototype,"ProgressToSMPTE",[Xe],Object.getOwnPropertyDescriptor(bt.prototype,"ProgressToSMPTE"),bt.prototype),br()(bt.prototype,"TimeToSMPTE",[Ye],Object.getOwnPropertyDescriptor(bt.prototype,"TimeToSMPTE"),bt.prototype),br()(bt.prototype,"TimeToFrame",[Ze],Object.getOwnPropertyDescriptor(bt.prototype,"TimeToFrame"),bt.prototype),br()(bt.prototype,"Update",[Je],Object.getOwnPropertyDescriptor(bt.prototype,"Update"),bt.prototype),br()(bt.prototype,"PlayPause",[Qe],Object.getOwnPropertyDescriptor(bt.prototype,"PlayPause"),bt.prototype),br()(bt.prototype,"SetPlaybackLevel",[et],Object.getOwnPropertyDescriptor(bt.prototype,"SetPlaybackLevel"),bt.prototype),br()(bt.prototype,"SetPlaybackRate",[tt],Object.getOwnPropertyDescriptor(bt.prototype,"SetPlaybackRate"),bt.prototype),br()(bt.prototype,"ChangePlaybackRate",[rt],Object.getOwnPropertyDescriptor(bt.prototype,"ChangePlaybackRate"),bt.prototype),br()(bt.prototype,"SetFrameRate",[nt],Object.getOwnPropertyDescriptor(bt.prototype,"SetFrameRate"),bt.prototype),br()(bt.prototype,"SetDropFrame",[it],Object.getOwnPropertyDescriptor(bt.prototype,"SetDropFrame"),bt.prototype),br()(bt.prototype,"ScrollScale",[at],Object.getOwnPropertyDescriptor(bt.prototype,"ScrollScale"),bt.prototype),br()(bt.prototype,"SetScale",[ot],Object.getOwnPropertyDescriptor(bt.prototype,"SetScale"),bt.prototype),br()(bt.prototype,"PlaySegment",[st],Object.getOwnPropertyDescriptor(bt.prototype,"PlaySegment"),bt.prototype),br()(bt.prototype,"Seek",[lt],Object.getOwnPropertyDescriptor(bt.prototype,"Seek"),bt.prototype),br()(bt.prototype,"SeekPercentage",[ct],Object.getOwnPropertyDescriptor(bt.prototype,"SeekPercentage"),bt.prototype),br()(bt.prototype,"SeekFrames",[ut],Object.getOwnPropertyDescriptor(bt.prototype,"SeekFrames"),bt.prototype),br()(bt.prototype,"ScrollVolume",[dt],Object.getOwnPropertyDescriptor(bt.prototype,"ScrollVolume"),bt.prototype),br()(bt.prototype,"SetVolume",[pt],Object.getOwnPropertyDescriptor(bt.prototype,"SetVolume"),bt.prototype),br()(bt.prototype,"ChangeVolume",[ht],Object.getOwnPropertyDescriptor(bt.prototype,"ChangeVolume"),bt.prototype),br()(bt.prototype,"SetMuted",[mt],Object.getOwnPropertyDescriptor(bt.prototype,"SetMuted"),bt.prototype),br()(bt.prototype,"ToggleMuted",[vt],Object.getOwnPropertyDescriptor(bt.prototype,"ToggleMuted"),bt.prototype),br()(bt.prototype,"ToggleFullscreen",[yt],Object.getOwnPropertyDescriptor(bt.prototype,"ToggleFullscreen"),bt.prototype),br()(bt.prototype,"VideoFrame",[ft],Object.getOwnPropertyDescriptor(bt.prototype,"VideoFrame"),bt.prototype),bt),Qr=r(140);Object(kr.f)({enforceActions:"always"});var en,tn,rn,nn=new(Xt=function(){function RootStore(){Jt()(this,RootStore),yr()(this,"client",Yt,this),this.editStore=new Ir(this),this.entryStore=new Rr(this),this.keyboardControlStore=new Fr(this),this.menuStore=new Dr(this),this.overlayStore=new Nr(this),this.trackStore=new Ur(this),this.videoStore=new Jr(this),this.InitializeClient()}return er()(RootStore,[{key:"Reset",value:function Reset(){[this.videoStore,this.entryStore,this.overlayStore,this.trackStore,this.editStore].forEach(function(e){return e.Reset()})}},{key:"InitializeClient",value:function(){var e=mr()(pr.a.mark(function _callee(){var e,t,n,i,a,o,s,l,c,u,d,p,h,m=this;return pr.a.wrap(function _callee$(v){for(;;)switch(v.prev=v.next){case 0:if(window.self!==window.top){v.next=17;break}return v.next=3,Promise.all([r.e(2),r.e(0)]).then(r.t.bind(null,643,7));case 3:if(t=v.sent.ElvClient,(i=window.location.search.split("?")[1])&&(i=i.split("&")).forEach(function(e){"privateKey"===e.split("=")[0]&&(n=e.split("=")[1])}),n){v.next=8;break}throw Error("No private key specified");case 8:return v.next=10,t.FromConfigurationUrl({configUrl:EluvioConfiguration["config-url"]});case 10:return e=v.sent,a=e.GenerateWallet(),o=a.AddAccount({privateKey:n}),v.next=15,e.SetSigner({signer:o});case 15:v.next=19;break;case 17:(e=new Qr.FrameClient({target:window.parent,timeout:30})).SendMessage({options:{operation:"HideHeader"},noResponse:!0});case 19:if(Object(kr.o)(function(){return m.client=e}),s="",window.self===window.top){v.next=27;break}return v.t0=Xr.a,v.next=25,e.SendMessage({options:{operation:"GetFramePath"}});case 25:v.t1=v.sent,s=(0,v.t0)(v.t1).path().replace(/^\//,"").split("/");case 27:if(!(s.length>=1&&s[0].startsWith("hq__"))){v.next=39;break}return l=s[0],v.next=31,e.ContentObjectLibraryId({versionHash:l});case 31:c=v.sent,u=e.utils.DecodeVersionHash(l),d=u.objectId,this.menuStore.SetLibraryId(c),this.menuStore.SetObjectId(d),this.menuStore.SelectVideo({libraryId:c,objectId:d,versionHash:l}),this.menuStore.ToggleMenu(!1),v.next=40;break;case 39:s.length>=2&&s[0].startsWith("ilib")&&s[1].startsWith("iq__")&&(p=s[0],h=s[1],this.menuStore.SetLibraryId(p),this.menuStore.SetObjectId(h),this.menuStore.SelectVideo({libraryId:p,objectId:h}),this.menuStore.ToggleMenu(!1));case 40:case"end":return v.stop()}},_callee,this)}));return function InitializeClient(){return e.apply(this,arguments)}}()}]),RootStore}(),Yt=br()(Xt.prototype,"client",[kr.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br()(Xt.prototype,"InitializeClient",[kr.d],Object.getOwnPropertyDescriptor(Xt.prototype,"InitializeClient"),Xt.prototype),Xt),an=nn,on=nn.editStore,sn=nn.entryStore,ln=nn.keyboardControlStore,cn=nn.menuStore,un=nn.overlayStore,dn=nn.trackStore,pn=nn.videoStore,hn=r(14),mn=r(188),vn=r.n(mn),yn=r(189),fn=r.n(yn),bn=r(46),kn={" ":"Space",ArrowLeft:"←",ArrowUp:"↑",ArrowRight:"→",ArrowDown:"↓"},gn=Object(ur.b)("keyboardControls")(en=Object(ur.c)(en=function(e){function KeyboardControls(){return Jt()(this,KeyboardControls),rr()(this,ir()(KeyboardControls).apply(this,arguments))}return or()(KeyboardControls,e),er()(KeyboardControls,[{key:"FormatControls",value:function FormatControls(e,t){return e.map(function(e){return e=kn[e]||e.toUpperCase(),t&&(e="".concat(t," + ").concat(e)),e})}},{key:"Control",value:function Control(e,t,r){var n=(e=this.FormatControls(e,r)).map(function(e){return lr.a.createElement("label",{key:"keyboard-control-label-".concat(e),className:"control-label"},e)});return lr.a.createElement("div",{key:"keyboard-control-".concat(e),className:"control-group"},lr.a.createElement("div",{className:"control-labels"},n),lr.a.createElement("div",{className:"control-description"},t.description))}},{key:"ControlGroup",value:function ControlGroup(e,t){t.keyLabel&&(e=[t.keyLabel]);var r=[];return t.action&&r.push(this.Control(e,t.action)),t.shiftAction&&r.push(this.Control(e,t.shiftAction,"Shift")),t.altAction&&r.push(this.Control(e,t.altAction,"Alt")),t.controlAction&&r.push(this.Control(e,t.controlAction,"Ctrl")),r}},{key:"ControlSection",value:function ControlSection(e,t){var r=this,n=t.map(function(e){return r.ControlGroup(e[0],e[1])});return lr.a.createElement("div",{key:"keyboard-controls-".concat(e),className:"control-section"},lr.a.createElement("h3",null,e),n)}},{key:"ControlInfo",value:function ControlInfo(){var e=this,t=Object.keys(this.props.keyboardControls.controls).map(function(t){return e.ControlSection(t,e.props.keyboardControls.controls[t])});return lr.a.createElement("div",{className:"keyboard-control-info"},t)}},{key:"render",value:function render(){return lr.a.createElement("div",{className:"header-icon keyboard-controls-icon"},lr.a.createElement(bn.a,{content:this.ControlInfo(),className:"keyboard-controls-tooltip"},lr.a.createElement(hn.d,{icon:fn.a})))}}]),KeyboardControls}(lr.a.Component))||en)||en,Tn=r(190),Sn=r.n(Tn),wn=r(39),En=Object(ur.b)("edit")(tn=Object(ur.c)(tn=function(e){function Save(){return Jt()(this,Save),rr()(this,ir()(Save).apply(this,arguments))}return or()(Save,e),er()(Save,[{key:"render",value:function render(){return lr.a.createElement(wn.a,{loading:this.props.edit.saving,loadingClassname:"header-icon save-icon-loading"},lr.a.createElement(hn.c,{onClick:this.props.edit.Save,icon:Sn.a,className:"header-icon save-icon ".concat(this.props.edit.saveFailed?"save-failed":"")}))}}]),Save}(lr.a.Component))||tn)||tn,xn=Object(ur.b)("menu")(rn=Object(ur.b)("video")(rn=Object(ur.c)(rn=function(e){function Header(){return Jt()(this,Header),rr()(this,ir()(Header).apply(this,arguments))}return or()(Header,e),er()(Header,[{key:"render",value:function render(){var e=this;return lr.a.createElement("header",null,lr.a.createElement("div",{className:"header-left"},lr.a.createElement(hn.c,{icon:vn.a,title:"Menu",onClick:function onClick(){return e.props.menu.ToggleMenu(!e.props.menu.showMenu)},className:"menu-button ".concat(this.props.menu.showMenu?"menu-button-active":"")}),lr.a.createElement("h1",{className:"header-text"},this.props.video.name||"Eluvio Video Editor")),lr.a.createElement("div",{className:"header-right"},lr.a.createElement(En,null),lr.a.createElement(gn,null)))}}]),Header}(lr.a.Component))||rn)||rn)||rn,Cn=r(10),On=r.n(Cn),Pn=r(49),jn=r.n(Pn),Mn=r(191),zn=r.n(Mn),In=r(97),_n=r.n(In),Hn=r(192),Rn=r.n(Hn),Fn=r(193),Dn=r.n(Fn),Nn=r(194),An=r.n(Nn),Ln=r(195),Vn=r.n(Ln),Wn=r(196),Un=r.n(Wn),Bn=function PlaybackLevel(e){return lr.a.createElement(hn.g,{content:lr.a.createElement("span",null,"Playback Level")},lr.a.createElement("select",{"aria-label":"Playback Level",value:e.video.currentLevel,className:"video-playback-level",onChange:function onChange(t){return e.video.SetPlaybackLevel(t.target.value)}},Object.keys(e.video.levels).map(function(t){var r=e.video.levels[t];return lr.a.createElement("option",{key:"playback-level-".concat(t),value:t},"".concat(r.attrs.RESOLUTION," (").concat((r.bitrate/1e3/1e3).toFixed(1),"Mbps)"))})))},qn=function PlaybackRate(e){var t=Er()(Array(40)).map(function(e,t){return qr()(t+1).div(10)});return lr.a.createElement(hn.g,{content:lr.a.createElement("span",null,"Playback Rate")},lr.a.createElement("select",{"aria-label":"Playback Rate",className:"video-playback-rate",value:qr()(e.video.playbackRate),onChange:function onChange(t){return e.video.SetPlaybackRate(t.target.value)}},t.map(function(e){return lr.a.createElement("option",{key:"video-rate-".concat(e),value:e},"".concat(e,"x"))})))},Kn=function FrameRate(e){return lr.a.createElement(hn.g,{content:lr.a.createElement("span",null,"Frame Rate")},lr.a.createElement("select",{"aria-label":"Frame Rate",value:e.video.frameRateKey,onChange:function onChange(t){return e.video.SetFrameRate(t.target.value)}},Object.keys(Kr).map(function(e){return lr.a.createElement("option",{key:"frame-rate-".concat(e),value:e},e)})))},$n=function DropFrame(e){return"NTSC"!==e.video.frameRateKey&&"NTSCHD"!==e.video.frameRateKey?null:lr.a.createElement(hn.g,{content:lr.a.createElement("span",null,"Drop Frame Notation")},lr.a.createElement("select",{"aria-label":"Drop Frame Notation",value:e.video.dropFrame,onChange:function onChange(t){return e.video.SetDropFrame("true"===t.target.value)}},lr.a.createElement("option",{value:!1},"NDF"),lr.a.createElement("option",{value:!0},"DF")))},Gn=function PlayPause(e){var t=e.video.playing?"Pause":"Play";return lr.a.createElement(hn.g,{content:lr.a.createElement("span",null,t)},lr.a.createElement(hn.c,{className:"video-control-play-pause",label:t,icon:e.video.playing?zn.a:_n.a,onClick:e.video.PlayPause}))},Xn=function FullscreenToggle(e){var t=e.video.fullScreen?"Exit Full Screen":"Full Screen";return lr.a.createElement(hn.g,{content:lr.a.createElement("span",null,t)},lr.a.createElement(hn.c,{label:t,icon:e.video.fullScreen?Dn.a:Rn.a,onClick:e.video.ToggleFullscreen}))},Yn=function Volume(e){var t=e.video.muted||0===e.video.volume?An.a:e.video.volume<e.video.scale/2?Vn.a:Un.a;return lr.a.createElement("div",{onWheel:function onWheel(t){var r=t.deltaY;return e.video.ScrollVolume(r)},className:"video-volume-controls"},lr.a.createElement(hn.g,{content:lr.a.createElement("span",null,e.video.muted?"Unmute":"Mute")},lr.a.createElement(hn.c,{icon:t,onClick:function onClick(){return e.video.SetMuted(!e.video.muted)},className:"video-volume-icon"})),lr.a.createElement(hn.f,{min:0,max:e.video.scale,value:e.video.muted?0:e.video.volume,renderToolTip:function renderToolTip(t){return"".concat(Math.floor(t/e.video.scale*100),"%")},className:"video-volume-slider",onChange:function onChange(t){return e.video.SetVolume(t)}}))},Zn=function FrameControl(e){var t=e.video,r=e.frames,n=void 0===r?0:r,i=e.seconds,a=void 0===i?0:i,o=e.label,s=e.icon;return lr.a.createElement(hn.g,{content:lr.a.createElement("span",null,o)},lr.a.createElement(hn.c,{label:o,icon:s,onClick:function onClick(){t.SeekFrames({frames:n,seconds:a})}}))},Jn=function Seek(e){return lr.a.createElement(hn.f,{key:"video-progress",min:e.video.scaleMin,max:e.video.scaleMax,value:e.video.seek,handleClassName:"video-seek-handle",showMarks:!0,renderToolTip:function renderToolTip(t){return lr.a.createElement("span",null,e.video.ProgressToSMPTE(t))},onChange:function onChange(t){return e.video.SeekPercentage(qr()(t).div(e.video.scale))},className:"video-seek"})},Qn=function Scale(e){return lr.a.createElement(hn.e,{key:"video-scale",min:0,max:e.video.scale,handles:[{position:e.video.scaleMin},{position:e.video.seek,disabled:!0,className:"video-seek-handle"},{position:e.video.scaleMax}],showMarks:!0,renderToolTip:function renderToolTip(t){return lr.a.createElement("span",null,e.video.ProgressToSMPTE(t))},onChange:function onChange(t){var r=jn()(t,3),n=r[0],i=r[1],a=r[2];return e.video.SetScale(n,i,a)},className:"video-scale"})};$n=Object(ur.b)("video")(Object(ur.c)($n)),Zn=Object(ur.b)("video")(Object(ur.c)(Zn)),Kn=Object(ur.b)("video")(Object(ur.c)(Kn)),Xn=Object(ur.b)("video")(Object(ur.c)(Xn)),Bn=Object(ur.b)("video")(Object(ur.c)(Bn)),qn=Object(ur.b)("video")(Object(ur.c)(qn)),Gn=Object(ur.b)("video")(Object(ur.c)(Gn)),Qn=Object(ur.b)("video")(Object(ur.c)(Qn)),Jn=Object(ur.b)("video")(Object(ur.c)(Jn)),Yn=Object(ur.b)("video")(Object(ur.c)(Yn));var ei,ti,ri=r(197),ni=r.n(ri),ii=r(198),ai=r.n(ii),oi=r(199),si=r.n(oi),li=r(98),ci=r.n(li),ui=Object(ur.b)("video")(ei=Object(ur.c)(ei=function(e){function VideoControls(){return Jt()(this,VideoControls),rr()(this,ir()(VideoControls).apply(this,arguments))}return or()(VideoControls,e),er()(VideoControls,[{key:"Seek",value:function Seek(){return lr.a.createElement(Jn,null)}},{key:"Scale",value:function Scale(){return this.props.video.fullScreen?lr.a.createElement(Qn,null):null}},{key:"Controls",value:function Controls(){return lr.a.createElement("div",{className:"video-controls"},lr.a.createElement("div",{className:"controls left-controls"},lr.a.createElement(qn,null),lr.a.createElement(Kn,null),lr.a.createElement($n,null)),lr.a.createElement("div",{className:"controls center-controls"},lr.a.createElement(Zn,{label:"Backward 1 Second",seconds:-1,icon:ci.a}),lr.a.createElement(Zn,{label:"Backward 1 Frame",frames:-1,icon:si.a}),lr.a.createElement(Gn,null),lr.a.createElement(Zn,{label:"Forward 1 Frame",frames:1,icon:ni.a}),lr.a.createElement(Zn,{label:"Forward 1 Second",seconds:1,icon:ai.a})),lr.a.createElement("div",{className:"controls right-controls"},lr.a.createElement(Bn,null),lr.a.createElement(Yn,null),lr.a.createElement(Xn,null)))}},{key:"render",value:function render(){return this.props.video.initialized?lr.a.createElement("div",{className:"video-controls-container ".concat(this.props.video.fullScreen?"fullscreen":"")},lr.a.createElement("div",{className:"mono video-time"},this.props.video.smpte),this.Controls(),this.Seek(),this.Scale()):null}}]),VideoControls}(lr.a.Component))||ei)||ei,di=r(2),pi=r.n(di),hi=r(47),mi=Object(ur.b)("video")(ti=Object(ur.b)("overlay")(ti=Object(ur.b)("entry")(ti=Object(ur.c)(ti=function(e){function Overlay(e){var t;return Jt()(this,Overlay),(t=rr()(this,ir()(Overlay).call(this,e))).state={context:void 0,hovering:!1},t.InitializeCanvas=t.InitializeCanvas.bind(On()(t)),t.Click=t.Click.bind(On()(t)),t.Hover=t.Hover.bind(On()(t)),t.ClearHover=t.ClearHover.bind(On()(t)),t.Draw=t.Draw.bind(On()(t)),t.ToolTipContent=t.ToolTipContent.bind(On()(t)),t}return or()(Overlay,e),er()(Overlay,[{key:"componentWillMount",value:function componentWillMount(){var e=this;this.resizeObserver=new hi.a(function(t){e.lastUpdate&&performance.now()-e.lastUpdate<100&&clearTimeout(e.resizeUpdate),e.resizeUpdate=setTimeout(function(){var r=t[0].target,n=t[0].contentRect,i=n.height,a=n.width,o=r.videoWidth/r.videoHeight;a/i<o&&(i=a/o),e.setState({videoHeight:i,videoWidth:a})},100),e.lastUpdate=performance.now()}),this.resizeObserver.observe(this.props.element)}},{key:"componentDidMount",value:function componentDidMount(){var e=this;this.setState({DisposeDrawReaction:Object(kr.n)(function(){return{enabled:e.props.overlay.overlayEnabled,frame:e.props.video.frame,hoverEntries:e.props.entry.hoverEntries,selectedEntries:e.props.entry.entries,selectedEntry:e.props.entry.selectedEntry,videoWidth:e.state.videoWidth,videoHeight:e.state.videoHeight}},function(){return e.Draw()},{delay:25,equals:function equals(e,t){return JSON.stringify(e)===JSON.stringify(t)}})})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.DisposeDrawReaction&&this.state.DisposeDrawReaction()}},{key:"InitializeCanvas",value:function InitializeCanvas(e){e&&this.setState({context:e.getContext("2d")})}},{key:"Entries",value:function Entries(){var e=this;return 0===this.props.video.frame?[]:this.props.overlay.overlayTracks.map(function(t){return t.entries[e.props.video.frame]||[]}).flat()}},{key:"EntriesAt",value:function EntriesAt(e){var t=e.clientX,r=e.clientY,n=this.state.context.canvas.getBoundingClientRect(),i=n.top,a=n.left,o=n.height,s=n.width;return t=(t-a)/s,r=(r-i)/o,this.Entries().filter(function(e){var n=e.box,i=n.x1,a=n.x2,o=n.y1,s=n.y2;return i<=t&&a>=t&&o<=r&&s>=r})}},{key:"Click",value:function Click(e){var t=e.clientX,r=e.clientY;if(!this.props.video.playing){var n=this.EntriesAt({clientX:t,clientY:r});this.props.entry.SetEntries(n,this.props.video.smpte)}}},{key:"Hover",value:function Hover(e){var t=e.clientX,r=e.clientY;if(!this.props.video.playing){var n=this.EntriesAt({clientX:t,clientY:r});this.props.entry.SetHoverEntries(n,this.props.video.smpte),this.setState({hovering:!0})}}},{key:"ClearHover",value:function ClearHover(){this.setState({hovering:!1}),this.props.entry.SetHoverEntries([])}},{key:"ToolTipContent",value:function ToolTipContent(){return!this.state.hovering||0===this.props.entry.hoverEntries.length||this.props.video.playing?null:lr.a.createElement("div",{className:"track-entry-container"},this.props.entry.hoverEntries.map(function(e){return lr.a.createElement("div",{className:"track-entry",key:"entry-".concat(e.entryId)},lr.a.createElement("div",{className:"track-entry-content"},e.text))}))}},{key:"Draw",value:function Draw(){var e=this;if(this.state.context){var t=this.Entries();this.state.context.canvas.width=this.state.videoWidth,this.state.context.canvas.height=this.state.videoHeight;var r=this.state.context,n=r.canvas.width,i=r.canvas.height;r.clearRect(0,0,r.canvas.width,r.canvas.height),0!==t.length&&t.forEach(function(t){if(t.box){var a=t.box,o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=o*n,d=l*i,p=s*n,h=c*i,m=e.props.entry.entries,v=e.props.entry.hoverEntries;r.globalAlpha=.4,r.lineWidth=2;var y="#00ff00";m.includes(t.entryId)?(r.globalAlpha=.8,y="#0fafff"):v.includes(t.entryId)&&(r.globalAlpha=.8,y="#45fdff"),e.props.entry.entries.length>0&&t.entryId===e.props.entry.selectedEntry&&(y="#ffffff"),r.strokeStyle=y,r.beginPath(),r.rect(u,d,p-u,h-d),r.stroke()}})}}},{key:"render",value:function render(){return this.props.overlay.overlayEnabled?lr.a.createElement("div",{className:"overlay-container",style:{width:"".concat(this.state.videoWidth,"px")}},lr.a.createElement(bn.a,{onMouseMove:this.Hover,onMouseLeave:this.ClearHover,content:this.ToolTipContent()},lr.a.createElement("canvas",{onClick:this.Click,ref:this.InitializeCanvas,className:"overlay-canvas"}))):null}}]),Overlay}(lr.a.Component))||ti)||ti)||ti)||ti;mi.propTypes={element:pi.a.object.isRequired};var vi,yi=mi,fi=r(99),bi=Object(ur.b)("tracks")(vi=Object(ur.b)("video")(vi=Object(ur.c)(vi=function(e){function Video(e){var t;return Jt()(this,Video),(t=rr()(this,ir()(Video).call(this,e))).state={videoWidth:0,videoHeight:0,player:void 0},t.InitializeVideo=t.InitializeVideo.bind(On()(t)),t}return or()(Video,e),er()(Video,[{key:"componentWillMount",value:function componentWillMount(){this.initialHeight=.4*document.body.getBoundingClientRect().height}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}},{key:"InitializeVideo",value:function InitializeVideo(e){if(e){var t=new Zr.a({nudgeOffset:.2,nudgeMaxRetry:30});t.loadSource(this.props.video.source),t.attachMedia(e),this.setState({player:t,video:e}),this.props.video.Initialize(e,t)}}},{key:"Poster",value:function Poster(){return this.props.video.frame>0||!this.props.video.poster?null:lr.a.createElement(hn.d,{onClick:this.props.video.PlayPause,icon:this.props.video.poster,useLoadingIndicator:!1,className:"video-poster"})}},{key:"Overlay",value:function Overlay(){if(this.state.video)return lr.a.createElement(yi,{element:this.state.video})}},{key:"Video",value:function Video(){var e=this;return this.props.video.source?lr.a.createElement(fi.ResizableBox,{className:"video-container",height:this.initialHeight,width:1/0,handle:lr.a.createElement("div",{className:"resize-handle ".concat(this.props.video.fullScreen?"hidden":"")})},this.Overlay(),lr.a.createElement("video",{crossOrigin:"anonymous",ref:this.InitializeVideo,muted:!0,autoPlay:!1,controls:!1,preload:"auto",onWheel:function onWheel(t){var r=t.deltaY;return e.props.video.ScrollVolume(r)}})):null}},{key:"render",value:function render(){var e=this.props.video.loading,t=this.props.video.source&&!this.props.video.initialized;return lr.a.createElement("div",{tabIndex:0,className:"video-component"},lr.a.createElement(wn.a,{loading:e,loadingClassname:"video-controls-loading"},this.Video()),lr.a.createElement(wn.a,{loading:t,loadingClassname:"video-controls-loading"},lr.a.createElement(ui,null)))}}]),Video}(lr.a.Component))||vi)||vi)||vi,ki=r(66),gi=r.n(ki),Ti=function(e){function TrackCanvas(e){var t;return Jt()(this,TrackCanvas),(t=rr()(this,ir()(TrackCanvas).call(this,e))).WatchResize=t.WatchResize.bind(On()(t)),t}return or()(TrackCanvas,e),er()(TrackCanvas,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!1}}]),er()(TrackCanvas,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}},{key:"WatchResize",value:function WatchResize(e){var t=this;e&&(this.resizeObserver=new hi.a(function(e){var r=e[0];t.props.HandleResize(r.contentRect)}),this.resizeObserver.observe(e))}},{key:"render",value:function render(){var e=this,t=Tr()({},this.props);return delete t.SetRef,delete t.HandleResize,lr.a.createElement("div",{ref:this.WatchResize,className:"track-canvas-container"},lr.a.createElement("canvas",Cr()({},t,{width:"50",height:"50",className:this.props.className,ref:function ref(t){return e.props.SetRef(t&&t.getContext("2d"))}})))}}]),TrackCanvas}(lr.a.Component);Ti.propTypes={SetRef:pi.a.func.isRequired,HandleResize:pi.a.func.isRequired};var Si,wi=Ti,Ei="#ffffff",xi=Object(ur.b)("video")(Si=Object(ur.b)("entry")(Si=Object(ur.b)("tracks")(Si=Object(ur.c)(Si=function(e){function Track(e){var t;return Jt()(this,Track),(t=rr()(this,ir()(Track).call(this,e))).state={context:void 0,hovering:!1,hoverTime:0,canvasHeight:0,canvasWidth:0},t.activeEntryIds=[],t.OnCanvasResize=t.OnCanvasResize.bind(On()(t)),t.Draw=t.Draw.bind(On()(t)),t.DrawIfActiveChanged=t.DrawIfActiveChanged.bind(On()(t)),t.Click=t.Click.bind(On()(t)),t.Hover=t.Hover.bind(On()(t)),t.ClearHover=t.ClearHover.bind(On()(t)),t}return or()(Track,e),er()(Track,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this.setState({DisposeDrawReaction:Object(kr.n)(function(){return{filter:e.props.entry.filter,duration:e.props.video.duration,scale:e.props.video.scale,scaleMax:e.props.video.scaleMax,scaleMin:e.props.video.scaleMin,entries:e.props.entry.entries,hoverEntries:e.props.entry.hoverEntries,selectedEntry:e.props.entry.selectedEntry,trackVersion:e.props.tracks.SelectedTrack()?e.props.tracks.SelectedTrack().version:void 0}},function(){return e.Draw()},{delay:75}),DisposeActiveReaction:Object(kr.n)(function(){return{frame:e.props.video.frame}},function(){return e.DrawIfActiveChanged()},{delay:100}),DisposeResizeReaction:Object(kr.n)(function(){return{width:e.state.canvasWidth,height:e.state.canvasHeight}},function(t){var r=t.width,n=t.height;e.state.context&&(e.state.context.canvas.width=r,e.state.context.canvas.height=n,e.Draw())},{delay:100})})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.DisposeDrawReaction(),this.state.DisposeActiveReaction(),this.state.DisposeResizeReaction()}},{key:"OnCanvasResize",value:function OnCanvasResize(e){var t=e.height,r=e.width;this.setState({canvasHeight:t,canvasWidth:r})}},{key:"ClientXToCanvasPosition",value:function ClientXToCanvasPosition(e){return qr()(e-this.state.context.canvas.offsetLeft).div(this.state.context.canvas.offsetWidth).valueOf()}},{key:"Search",value:function Search(e){return this.props.track.intervalTree.search(e,e)}},{key:"TimeAt",value:function TimeAt(e){var t=qr()(this.props.video.scaleMax-this.props.video.scaleMin).div(this.props.video.scale).mul(this.props.video.duration),r=qr()(this.props.video.scaleMin).div(this.props.video.scale).mul(this.props.video.duration);return t.mul(this.ClientXToCanvasPosition(e)).add(r).valueOf()}},{key:"Click",value:function Click(e){var t=e.clientX,r=this.TimeAt(t),n=this.Search(r);this.props.entry.SetEntries(n,this.props.video.TimeToSMPTE(r)),this.props.tracks.SetSelectedTrack(this.props.track.trackId)}},{key:"Hover",value:function Hover(e){var t=e.clientX,r=this.TimeAt(t),n=this.Search(r);this.props.entry.SetHoverEntries(n,this.props.video.TimeToSMPTE(r)),this.setState({hovering:!0,hoverTime:this.TimeAt(t)})}},{key:"ClearHover",value:function ClearHover(){this.props.entry.SetHoverEntries([]),this.setState({hovering:!1})}},{key:"DrawIfActiveChanged",value:function DrawIfActiveChanged(){var e=this.Search(this.props.video.currentTime).sort();e.toString()!==this.activeEntryIds.toString()&&(this.activeEntryIds=e,this.Draw())}},{key:"Draw",value:function Draw(){if(this.state.context&&this.state.context.canvas){var e=Object.values(this.props.track.entries);this.props.track.trackId===this.props.tracks.selectedTrack&&(e=this.props.entry.FilteredEntries(Object.values(this.props.track.entries)));var t=this.state.context;t.clearRect(0,0,t.canvas.width,t.canvas.height);var r=qr()(this.props.video.scaleMax-this.props.video.scaleMin).div(this.props.video.scale).mul(this.props.video.duration),n=qr()(this.props.video.scaleMin).div(this.props.video.scale).mul(this.props.video.duration),i=t.canvas.offsetWidth/r,a=Math.floor(.5*t.canvas.offsetHeight),o=Math.floor(.25*t.canvas.offsetHeight),s=this.Search(this.props.video.currentTime),l=this.props.entry.entries,c=this.props.entry.selectedEntry?this.props.entry.selectedEntry:void 0,u=this.props.entry.hoverEntries;e.map(function(e){var r=Math.floor((e.startTime-n)*i),d=Math.floor((e.endTime-n)*i);d.valueOf()<0||r.valueOf()>t.canvas.offsetWidth||(t.beginPath(),t.globalAlpha=.4,c===e.entryId?(t.globalAlpha=.6,t.fillStyle=Ei,t.strokeStyle=Ei,t.fillRect(r,o,d-r,a),t.rect(r,o,d-r,a)):l.includes(e.entryId)?(t.fillStyle="#0fafff",t.strokeStyle="#0fafff",t.fillRect(r,o,d-r,a),t.rect(r,o,d-r,a)):u.includes(e.entryId)?(t.fillStyle=Ei,t.strokeStyle=Ei,t.fillRect(r,o,d-r,a),t.rect(r,o,d-r,a)):s.includes(e.entryId)?(t.fillStyle="#36ff00",t.strokeStyle="#36ff00",t.fillRect(r,o,d-r,a),t.rect(r,o,d-r,a)):(t.fillStyle=Ei,t.strokeStyle=Ei,t.rect(r,o,d-r,a)),t.stroke())})}}},{key:"ToolTipContent",value:function ToolTipContent(){var e=this;return this.state.hovering&&this.props.entry.hoverEntries&&0!==this.props.entry.hoverEntries.length?lr.a.createElement("div",{className:"track-entry-container"},this.props.entry.hoverEntries.map(function(t){var r=e.props.track.entries[t];return lr.a.createElement("div",{className:"track-entry",key:"entry-".concat(r.entryId)},lr.a.createElement("div",{className:"track-entry-timestamps"},"".concat(e.props.entry.TimeToSMPTE(r.startTime)," - ").concat(e.props.entry.TimeToSMPTE(r.endTime))),lr.a.createElement("div",{className:"track-entry-content"},r.text))})):null}},{key:"Canvas",value:function Canvas(){var e=this;return lr.a.createElement(wi,{className:"track",onClick:this.Click,onMouseMove:this.Hover,onMouseLeave:this.ClearHover,HandleResize:this.OnCanvasResize,SetRef:function SetRef(t){return e.setState({context:t})}})}},{key:"render",value:function render(){var e=this;return lr.a.createElement(hn.g,{content:this.ToolTipContent()},lr.a.createElement("div",{onWheel:function onWheel(t){var r=t.deltaY,n=t.clientX;return e.props.video.ScrollScale(e.ClientXToCanvasPosition(n),r)},className:"track-container"},this.Canvas()))}}]),Track}(lr.a.Component))||Si)||Si)||Si)||Si;xi.propTypes={track:pi.a.object.isRequired,entry:pi.a.object,video:pi.a.object};var Ci,Oi=xi,Pi=Object(ur.b)("video")(Ci=Object(ur.b)("tracks")(Ci=Object(ur.c)(Ci=function(e){function AudioTrack(e){var t;return Jt()(this,AudioTrack),(t=rr()(this,ir()(AudioTrack).call(this,e))).state={context:void 0,canvasHeight:0,canvasWidth:0},t.OnCanvasResize=t.OnCanvasResize.bind(On()(t)),t.Draw=t.Draw.bind(On()(t)),t}return or()(AudioTrack,e),er()(AudioTrack,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this.setState({DisposeDrawReaction:Object(kr.n)(function(){return{entries:e.props.track.entries.length,duration:e.props.video.duration,scale:e.props.video.scale,scaleMax:e.props.video.scaleMax,scaleMin:e.props.video.scaleMin}},function(){return e.Draw()},{delay:500}),DisposeResizeReaction:Object(kr.n)(function(){return{width:e.state.canvasWidth,height:e.state.canvasHeight}},function(t){var r=t.width,n=t.height;e.state.context&&(e.state.context.canvas.width=r,e.state.context.canvas.height=n,e.Draw())},{delay:250})})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.DisposeDrawReaction(),this.state.DisposeResizeReaction()}},{key:"OnCanvasResize",value:function OnCanvasResize(e){var t=e.height,r=e.width;this.setState({canvasHeight:t,canvasWidth:r})}},{key:"ClientXToCanvasPosition",value:function ClientXToCanvasPosition(e){return qr()(e-this.state.context.canvas.offsetLeft).div(this.state.context.canvas.offsetWidth).valueOf()}},{key:"Draw",value:function Draw(){if(this.state.context&&this.state.context.canvas){var e=this.state.context;e.clearRect(0,0,e.canvas.width,e.canvas.height);var t=qr()(this.props.video.scaleMax-this.props.video.scaleMin).div(this.props.video.scale).mul(this.props.video.duration),r=qr()(this.props.video.scaleMin).div(this.props.video.scale).mul(this.props.video.duration),n=qr()(e.canvas.offsetWidth).div(t),i=.5*e.canvas.offsetHeight;e.fillStyle="#acacac",e.strokeStyle="#acacac";var a=this.props.video.ScaleMinTime(),o=this.props.video.ScaleMaxTime(),s=1/0,l=-1/0,c=this.props.track.entries.flat().filter(function(e){return e.startTime>=a&&e.endTime<=o});c.forEach(function(e){e.startTime<s&&(s=e.startTime),e.endTime>l&&(l=e.endTime)});var u=(l-s)/(o-a),d=Math.floor(c.length*u/(2*this.state.canvasWidth))||1,p=1/(1.1*this.props.track.max);e.beginPath();for(var h=0;h<c.length;h++)if(!(d>1&&h%d!=0)){var m=c[h],v=(m.endTime-m.startTime)*d+(d>2?1:0),y=h<c.length-1?c[h+1]:m,f=Math.floor((m.startTime-r)*n),b=Math.floor((m.startTime+v-r)*n),k=Math.floor(i*m.max*p),g=Math.floor(i*y.max*p);e.moveTo(f,i+k),e.lineTo(b,i+g),e.lineTo(b,i-g),e.lineTo(f,i-k)}e.closePath(),e.fill()}}},{key:"Canvas",value:function Canvas(){var e=this;return lr.a.createElement(wi,{className:"track",HandleResize:this.OnCanvasResize,SetRef:function SetRef(t){return e.setState({context:t})}})}},{key:"render",value:function render(){var e=this;return lr.a.createElement("div",{onWheel:function onWheel(t){var r=t.deltaY,n=t.clientX;return e.props.video.ScrollScale(e.ClientXToCanvasPosition(n),r)},className:"track-container"},this.Canvas())}}]),AudioTrack}(lr.a.Component))||Ci)||Ci)||Ci;Pi.propTypes={track:pi.a.object.isRequired,video:pi.a.object};var ji,Mi,zi,Ii,_i,Hi,Ri=Pi,Fi=Object(ur.b)("video")(ji=Object(ur.b)("tracks")(ji=Object(ur.c)(ji=function(e){function PreviewTrack(e){var t;return Jt()(this,PreviewTrack),(t=rr()(this,ir()(PreviewTrack).call(this,e))).state={previews:10},t.WatchResize=t.WatchResize.bind(On()(t)),t}return or()(PreviewTrack,e),er()(PreviewTrack,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}},{key:"WatchResize",value:function WatchResize(e){var t=this;e&&(this.resizeObserver=new hi.a(function(e){var r=e[0];t.setState({previews:Math.ceil(r.contentRect.width/125)})}),this.resizeObserver.observe(e))}},{key:"Previews",value:function Previews(){var e=this,t=this.state.previews,r=(this.props.video.ScaleMaxTime()-this.props.video.ScaleMinTime())/t,n=this.props.video.ScaleMinTime()+.5*r;return Er()(Array(t).keys()).map(function(t){var i=n+r*t,a=e.props.video.TimeToFrame(i);return lr.a.createElement("div",{className:"preview-frame",key:"preview-frame-".concat(a)},lr.a.createElement("img",{src:e.props.video.VideoFrame(a)}))})}},{key:"render",value:function render(){var e=this;return lr.a.createElement("div",{ref:this.WatchResize,onWheel:function onWheel(t){var r=t.deltaY,n=t.clientX;return e.props.video.ScrollScale(e.ClientXToCanvasPosition(n),r)},className:"track-container preview-track-container"},this.Previews())}}]),PreviewTrack}(lr.a.Component))||ji)||ji)||ji,Di=function BackButton(e){var t=e.onClick,r=e.className,n=void 0===r?"":r;return lr.a.createElement(hn.c,{label:"Back",className:"back-button ".concat(n||""),icon:ci.a,onClick:t})},Ni=function Checkbox(e){var t=e.value,r=e.onChange,n=e.toolTip,i=e.className,a=void 0===i?"":i,o=lr.a.createElement("div",{className:"checkbox-container ".concat(a||"")},lr.a.createElement("div",{onClick:function onClick(e){e.stopPropagation(),r(!t)},className:"checkbox ".concat(t?"checked":"")}));return n?lr.a.createElement(hn.g,{content:n},o):o},Ai=Object(ur.b)("tracks")(Mi=Object(ur.b)("video")(Mi=Object(ur.b)("overlay")(Mi=Object(ur.c)(Mi=function(e){function Timeline(e){var t;return Jt()(this,Timeline),(t=rr()(this,ir()(Timeline).call(this,e))).state={indicatorTrackWidth:0,indicatorHeight:0,indicatorOffset:0,show:{Audio:!1,Preview:!0,Subtitles:!0,Tags:!0}},t.WatchResize=t.WatchResize.bind(On()(t)),t}return or()(Timeline,e),er()(Timeline,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}},{key:"WatchResize",value:function WatchResize(e){var t=this;e&&(this.resizeObserver=new hi.a(function(e){var r=e[0],n=e[0].target.getElementsByClassName("track-lane-content");0!==n.length?t.setState({indicatorTrackWidth:n[0].offsetWidth,indicatorHeight:r.contentRect.height,indicatorOffset:n[0].offsetLeft}):t.setState({indicatorTrackWidth:0,indicatorHeight:0,indicatorOffset:0})}),this.resizeObserver.observe(e))}},{key:"TrackLane",value:function TrackLane(e){var t=this,r=e.trackId,n=e.trackType,i=e.label,a=e.content,o=e.className,s=void 0===o?"":o,l=r&&"audio"!==n,c=r&&this.props.tracks.selectedTrack===r,u=function selectTrack(){l&&(c?t.props.tracks.ClearSelectedTrack():t.props.tracks.SetSelectedTrack(r))};return lr.a.createElement("div",{key:"track-lane-".concat(r||i),className:"track-lane ".concat(s)},lr.a.createElement("div",{onClick:u,onKeyPress:Object(hn.h)(u),tabIndex:r?0:void 0,className:"\n              track-label-container\n              ".concat(c?"track-label-selected":"","\n              ").concat(l?"track-label-clickable":"","\n            ")},i),lr.a.createElement("div",{className:"track-lane-content"},a))}},{key:"CurrentTimeIndicator",value:function CurrentTimeIndicator(){var e=this.props.video.scaleMax-this.props.video.scaleMin,t=(this.props.video.seek-this.props.video.scaleMin)*(this.state.indicatorTrackWidth/e)+this.state.indicatorOffset;return lr.a.createElement("div",{style:{height:this.state.indicatorHeight+"px",left:t-1+"px"},className:"track-time-indicator"})}},{key:"TrackLabel",value:function TrackLabel(e){var t,r=this,n="vtt"===e.trackType,i=n?function(){return r.props.tracks.ToggleTrack(e.label)}:void 0;if(n){var a=lr.a.createElement("span",null,e.active?"Disable":"Enable"," ",e.label);t=lr.a.createElement(Ni,{value:e.active,onChange:i,toolTip:a,className:"track-toggle"})}return lr.a.createElement("div",{className:"track-label"},e.label,t)}},{key:"Track",value:function Track(e){var t="vtt"===e.trackType?"".concat(e.active?"Disable":"Enable"," ").concat(e.label):e.label;return this.TrackLane({trackId:e.trackId,trackType:e.trackType,label:this.TrackLabel(e),className:"audio"===e.trackType?"track-lane-audio":"",content:"audio"===e.trackType?lr.a.createElement(Ri,{track:e}):lr.a.createElement(Oi,{track:e}),labelToolTip:lr.a.createElement("span",null,t)})}},{key:"Tracks",value:function Tracks(){var e,t,r,n,i=this;return this.state.show.Preview&&this.props.video.previewSupported&&(e=this.TrackLane({trackType:"preview",label:"Preview",className:"track-lane-preview",content:lr.a.createElement(Fi,null)})),this.state.show.Subtitles&&(t=this.props.tracks.tracks.filter(function(e){return"vtt"===e.trackType}).slice().sort(function(e,t){return e.label>t.label?1:-1}).map(function(e){return i.Track(e)})),this.state.show.Tags&&(r=this.props.tracks.tracks.filter(function(e){return"vtt"!==e.trackType}).slice().sort(function(e,t){return e.label>t.label?1:-1}).map(function(e){return i.Track(e)})),this.state.show.Audio&&(n=this.props.tracks.audioTracks.map(function(e){return i.Track(e)})),lr.a.createElement("div",{ref:this.WatchResize,className:"tracks-container"},this.CurrentTimeIndicator(),e,t,r,n)}},{key:"TrackToggleButton",value:function TrackToggleButton(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r?this.props.overlay.overlayEnabled:this.state.show[e];return lr.a.createElement("button",{onClick:function onClick(){r?t.props.overlay.ToggleOverlay(!t.props.overlay.overlayEnabled):t.setState({show:Tr()({},t.state.show,gi()({},e,!n))})},className:"".concat(n?"enabled":"")},e)}},{key:"TrackToggle",value:function TrackToggle(){var e=this.props.tracks.tracks.filter(function(e){return"vtt"===e.trackType}),t=this.props.tracks.tracks.filter(function(e){return"metadata"===e.trackType}),r=this.props.tracks.audioTracks,n=this.props.overlay.overlayTracks,i=this.props.video.previewSupported?this.TrackToggleButton("Preview"):null,a=e.length>0?this.TrackToggleButton("Subtitles"):null,o=t.length>0?this.TrackToggleButton("Tags"):null,s=r.length>0?this.TrackToggleButton("Audio"):null,l=n.length>0?this.TrackToggleButton("Overlay",!0):null;return lr.a.createElement("div",{className:"timeline-actions toggle-tracks"},l,i,a,o,s)}},{key:"AddTrackButton",value:function AddTrackButton(){var e=this;return lr.a.createElement("div",{className:"timeline-actions"},lr.a.createElement("button",{onClick:function onClick(){return e.props.tracks.CreateTrack({label:"New Track",key:"new_track"})}},"Add Track"))}},{key:"render",value:function render(){return this.props.video.initialized?lr.a.createElement("div",{className:"timeline"},this.TrackLane({label:lr.a.createElement("span",{className:"mono"},"".concat(this.props.video.frame," :: ").concat(this.props.video.smpte)),content:lr.a.createElement(Qn,null),className:"video-scale-lane"}),this.Tracks(),this.AddTrackButton(),this.TrackToggle()):null}}]),Timeline}(lr.a.Component))||Mi)||Mi)||Mi)||Mi,Li=Object(ur.b)("menu")(zi=Object(ur.b)("video")(zi=Object(ur.c)(zi=function(e){function Menu(e){var t;return Jt()(this,Menu),(t=rr()(this,ir()(Menu).call(this,e))).SelectLibrary=t.SelectLibrary.bind(On()(t)),t.SelectObject=t.SelectObject.bind(On()(t)),t}return or()(Menu,e),er()(Menu,[{key:"SelectLibrary",value:function(){var e=mr()(pr.a.mark(function _callee(e){return pr.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:this.props.menu.SetLibraryId(e);case 1:case"end":return t.stop()}},_callee,this)}));return function SelectLibrary(t){return e.apply(this,arguments)}}()},{key:"SelectObject",value:function(){var e=mr()(pr.a.mark(function _callee2(e,t){return pr.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return this.props.menu.SetLibraryId(e),this.props.menu.SetObjectId(t),this.props.menu.ToggleMenu(!1),this.setState({objectId:t}),r.next=6,this.props.menu.SelectVideo({libraryId:e,objectId:t});case 6:case"end":return r.stop()}},_callee2,this)}));return function SelectObject(t,r){return e.apply(this,arguments)}}()},{key:"SelectedObject",value:function SelectedObject(){var e=this,t=this.props.menu.selectedObject,r=0===this.props.video.videoTags.length?null:lr.a.createElement(lr.a.Fragment,null,lr.a.createElement("label",null,"Video Tags"),lr.a.createElement("span",{className:"wrap"},this.props.video.videoTags.join(", ")));return lr.a.createElement(wn.a,{loading:!t,render:function render(){return lr.a.createElement("div",{className:"menu-entries"},lr.a.createElement("div",{className:"menu-header"},lr.a.createElement(Di,{onClick:e.props.menu.ClearObjectId}),lr.a.createElement("h4",null,t.name)),lr.a.createElement("h5",null,t.metadata.description),lr.a.createElement("div",{className:"video-info"},lr.a.createElement("label",null,"Library ID"),lr.a.createElement("div",null,t.libraryId),lr.a.createElement("label",null,"Object ID"),lr.a.createElement("span",null,t.objectId),lr.a.createElement("label",null,"Version Hash"),lr.a.createElement("span",{className:"wrap"},t.versionHash),r))}})}},{key:"Objects",value:function Objects(){var e=this,t=this.props.menu.libraryId,r=this.props.menu.libraries[t];return lr.a.createElement(hn.a,{key:"objects-container",Load:mr()(pr.a.mark(function _callee3(){return pr.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.props.menu.ListObjects(t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_callee3)}))},lr.a.createElement("div",{className:"menu-entries"},lr.a.createElement("div",{className:"menu-header"},lr.a.createElement(Di,{onClick:this.props.menu.ClearLibraryId}),lr.a.createElement("h4",null,r?r.metadata.name:"")),0===(this.props.menu.objects[t]||[]).length?lr.a.createElement("div",{className:"menu-empty"},"No Content Available"):lr.a.createElement("ul",null,(this.props.menu.objects[t]||[]).map(function(r){var n=function onClick(){return e.SelectObject(t,r.objectId)};return lr.a.createElement("li",{tabIndex:0,onClick:n,onKeyPress:Object(hn.h)(n),key:"content-object-".concat(r.objectId)},r.metadata.name)}))))}},{key:"Libraries",value:function Libraries(){var e=this,t=Object.values(this.props.menu.libraries).sort(function(e,t){return e.metadata.name.toLowerCase()>t.metadata.name.toLowerCase()?1:-1});return lr.a.createElement(hn.a,{key:"libraries-container",Load:this.props.menu.ListLibraries},0==t.length?lr.a.createElement("div",{className:"menu-empty"},"No Libraries Available"):lr.a.createElement("div",{className:"menu-entries"},lr.a.createElement("ul",null,t.map(function(t){var r=function onClick(){return e.SelectLibrary(t.libraryId)};return lr.a.createElement("li",{tabIndex:0,onKeyPress:Object(hn.h)(r),onClick:r,key:"library-".concat(t.libraryId)},t.metadata.name)}))))}},{key:"Navigation",value:function Navigation(){return this.props.menu.objectId?this.SelectedObject():this.props.menu.libraryId?this.Objects():this.Libraries()}},{key:"render",value:function render(){return this.props.menu.showMenu?lr.a.createElement("div",{className:"menu-container"},this.Navigation()):null}}]),Menu}(lr.a.Component))||zi)||zi)||zi,Vi=Object(ur.b)("entry")(Ii=Object(ur.c)(Ii=function(e){function Entry(e){var t;return Jt()(this,Entry),(t=rr()(this,ir()(Entry).call(this,e))).HandleDelete=t.HandleDelete.bind(On()(t)),t}return or()(Entry,e),er()(Entry,[{key:"HandleDelete",value:function(){var e=mr()(pr.a.mark(function _callee2(){var e=this;return pr.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(hn.b)({message:"Are you sure you want to remove this tag?",onConfirm:function(){var t=mr()(pr.a.mark(function _callee(){return pr.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e.props.entry.RemoveEntry(e.props.entry.selectedEntry);case 1:case"end":return t.stop()}},_callee)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee2)}));return function HandleDelete(){return e.apply(this,arguments)}}()},{key:"Actions",value:function Actions(e){var t=this,r=["vtt","metadata"].includes(e.entryType),n=["metadata","overlay"].includes(e.entryType);return lr.a.createElement("div",{className:"entry-actions-container"},lr.a.createElement(Di,{onClick:this.props.entry.ClearSelectedEntry}),lr.a.createElement("div",{className:"entry-actions"},lr.a.createElement("button",{hidden:!r,tabIndex:0,onClick:this.props.entry.PlayCurrentEntry},"Play"),lr.a.createElement("button",{hidden:!n,tabIndex:0,onClick:function onClick(){return t.props.entry.SetEditing(e.entryId)}},"Edit"),lr.a.createElement("button",{hidden:!n,tabIndex:0,onClick:this.HandleDelete},"Remove")))}},{key:"VttEntry",value:function VttEntry(e){var t=e.entry;return lr.a.createElement("div",{className:"entry-details"},lr.a.createElement("label",null,"Text"),lr.a.createElement("div",null,t.text),lr.a.createElement("label",null,"Start Time"),lr.a.createElement("span",null,"".concat(t.startTime," (").concat(this.props.entry.TimeToSMPTE(e.startTime),")")),lr.a.createElement("label",null,"End Time"),lr.a.createElement("span",null,"".concat(t.endTime," (").concat(this.props.entry.TimeToSMPTE(e.endTime),")")),lr.a.createElement("label",null,"Align"),lr.a.createElement("span",null,t.align),lr.a.createElement("label",null,"Line"),lr.a.createElement("span",null,t.line),lr.a.createElement("label",null,"Line Align"),lr.a.createElement("span",null,t.lineAlign),lr.a.createElement("label",null,"Position"),lr.a.createElement("span",null,t.position),lr.a.createElement("label",null,"Position Align"),lr.a.createElement("span",null,t.positionAlign),lr.a.createElement("label",null,"Region"),lr.a.createElement("span",null,t.region),lr.a.createElement("label",null,"Size"),lr.a.createElement("span",null,t.size),lr.a.createElement("label",null,"Snap to Lines"),lr.a.createElement("span",null,t.snapToLines),lr.a.createElement("label",null,"Vertical"),lr.a.createElement("span",null,t.vertical))}},{key:"TagEntry",value:function TagEntry(e){return lr.a.createElement("div",{className:"entry-details"},lr.a.createElement("label",null,"Tag"),lr.a.createElement("div",null,e.text),lr.a.createElement("label",null,"Start Time"),lr.a.createElement("span",null,"".concat(e.startTime," (").concat(this.props.entry.TimeToSMPTE(e.startTime),")")),lr.a.createElement("label",null,"End Time"),lr.a.createElement("span",null,"".concat(e.endTime," (").concat(this.props.entry.TimeToSMPTE(e.endTime),")")))}},{key:"OverlayEntry",value:function OverlayEntry(e){return lr.a.createElement("div",{className:"entry-details"},lr.a.createElement("label",null,"Tag"),lr.a.createElement("div",null,e.text),lr.a.createElement("label",null,"Confidence"),lr.a.createElement("div",null,e.confidence.toFixed(3)),lr.a.createElement("label",null,"Bounding Box"),lr.a.createElement("div",null),lr.a.createElement("div",{className:"entry-details indented"},lr.a.createElement("label",null,"X1"),lr.a.createElement("div",null,e.box.x1.toFixed(4)),lr.a.createElement("label",null,"Y1"),lr.a.createElement("div",null,e.box.y1.toFixed(4)),lr.a.createElement("label",null,"X2"),lr.a.createElement("div",null,e.box.x2.toFixed(4)),lr.a.createElement("label",null,"Y2"),lr.a.createElement("div",null,e.box.y2.toFixed(4))))}},{key:"Content",value:function Content(e){return"vtt"===e.entryType?this.VttEntry(e):"overlay"===e.entryType?this.OverlayEntry(e):this.TagEntry(e)}},{key:"render",value:function render(){var e=this.props.entry.SelectedEntry();return e?lr.a.createElement("div",{className:"entry-container"},this.Actions(e),this.Content(e)):null}}]),Entry}(lr.a.Component))||Ii)||Ii,Wi=r(200),Ui=r.n(Wi),Bi=Object(ur.b)("video")(_i=Object(ur.b)("entry")(_i=Object(ur.c)(_i=function(e){function EntryForm(e){var t;Jt()(this,EntryForm);var r=(t=rr()(this,ir()(EntryForm).call(this,e))).props.entry.SelectedEntry(),n=!r;return r=r||{},t.state={createForm:n,entryId:r.entryId,text:r.text||"",startTime:r.startTime||e.video.currentTime,startTimeValid:!0,endTime:r.endTime||e.video.currentTime+1,endTimeValid:!0,validText:!0},t.HandleTextChange=t.HandleTextChange.bind(On()(t)),t.HandleTimeChange=t.HandleTimeChange.bind(On()(t)),t.HandleSubmit=t.HandleSubmit.bind(On()(t)),t.HandleDelete=t.HandleDelete.bind(On()(t)),t.HandleCancel=t.HandleCancel.bind(On()(t)),t}return or()(EntryForm,e),er()(EntryForm,[{key:"HandleTextChange",value:function HandleTextChange(e){var t=e.target.value;this.setState({text:t,validText:t.length>0})}},{key:"HandleTimeChange",value:function HandleTimeChange(e){var t=this,r=function Valid(e){return e>=0&&e<=t.props.video.duration};this.setState(gi()({},e.target.name,parseFloat(e.target.value)),function(){t.state.startTime>=t.state.endTime?t.setState({startTimeValid:!1,endTimeValid:!1}):t.setState({startTimeValid:r(t.state.startTime),endTimeValid:r(t.state.endTime)})})}},{key:"HandleSubmit",value:function HandleSubmit(){this.state.validText&&this.state.startTimeValid&&this.state.endTimeValid&&this.props.entry.ModifyEntry({entryId:this.state.entryId,text:this.state.text,startTime:this.state.startTime,endTime:this.state.endTime})}},{key:"HandleDelete",value:function(){var e=mr()(pr.a.mark(function _callee2(){var e=this;return pr.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(hn.b)({message:"Are you sure you want to remove this tag?",onConfirm:function(){var t=mr()(pr.a.mark(function _callee(){return pr.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e.props.entry.RemoveEntry(e.state.entryId);case 1:case"end":return t.stop()}},_callee)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee2)}));return function HandleDelete(){return e.apply(this,arguments)}}()},{key:"HandleCancel",value:function HandleCancel(){this.state.createForm?this.props.entry.ClearSelectedEntry():this.props.entry.ClearEditing()}},{key:"CurrentTimeButton",value:function CurrentTimeButton(e){var t=this;return lr.a.createElement(hn.c,{icon:Ui.a,label:"Set to current video time",onClick:function onClick(){return t.HandleTimeChange({target:{name:e,value:t.props.video.currentTime}})}})}},{key:"render",value:function render(){var e=this.state.validText&&this.state.startTimeValid&&this.state.endTimeValid;return lr.a.createElement("div",{className:"entry-form"},lr.a.createElement("div",{className:"entry-details"},lr.a.createElement("label",null,"Text"),lr.a.createElement(Pr,{name:"text",value:this.state.text,onChange:this.HandleTextChange,onKeyPress:Object(hn.h)(this.HandleSubmit),required:!0}),lr.a.createElement("label",null,"Start Time"),lr.a.createElement("div",{className:"time-input"},lr.a.createElement(Pr,{type:"number",step:1e-6,name:"startTime",value:this.state.startTime,onChange:this.HandleTimeChange,onKeyPress:Object(hn.h)(this.HandleSubmit),required:!0,className:this.state.startTimeValid?"":"invalid"}),this.CurrentTimeButton("startTime")),lr.a.createElement("label",null,"End Time"),lr.a.createElement("div",{className:"time-input"},lr.a.createElement(Pr,{type:"number",step:1e-6,name:"endTime",value:this.state.endTime,onChange:this.HandleTimeChange,onKeyPress:Object(hn.h)(this.HandleSubmit),required:!0,className:this.state.endTimeValid?"":"invalid"}),this.CurrentTimeButton("endTime"))),lr.a.createElement("div",{className:"entry-actions-container"},lr.a.createElement("button",{className:"cancel-button",onClick:this.HandleCancel},"Cancel"),lr.a.createElement("button",{className:e?"":"invalid",onClick:this.HandleSubmit},"Done")))}}]),EntryForm}(lr.a.Component))||_i)||_i)||_i,qi=Object(ur.b)("tracks")(Hi=Object(ur.c)(Hi=function(e){function TrackForm(e){var t;return Jt()(this,TrackForm),(t=rr()(this,ir()(TrackForm).call(this,e))).state={trackLabel:e.track.label,trackKey:e.track.key},t.HandleTextChange=t.HandleTextChange.bind(On()(t)),t.HandleSubmit=t.HandleSubmit.bind(On()(t)),t.HandleDelete=t.HandleDelete.bind(On()(t)),t}return or()(TrackForm,e),er()(TrackForm,[{key:"HandleTextChange",value:function HandleTextChange(e){this.setState(gi()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:function HandleSubmit(){this.props.tracks.EditTrack({trackId:this.props.track.trackId,label:this.state.trackLabel,key:this.state.trackKey})}},{key:"HandleDelete",value:function(){var e=mr()(pr.a.mark(function _callee2(){var e=this;return pr.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(hn.b)({message:"Are you sure you want to remove this track?",onConfirm:function(){var t=mr()(pr.a.mark(function _callee(){return pr.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e.props.tracks.RemoveTrack(e.props.track.trackId);case 1:case"end":return t.stop()}},_callee)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee2)}));return function HandleDelete(){return e.apply(this,arguments)}}()},{key:"render",value:function render(){var e=this.state.trackLabel&&this.state.trackKey;return lr.a.createElement("div",{className:"entry-form"},lr.a.createElement("div",{className:"entry-details"},lr.a.createElement("label",null,"Label"),lr.a.createElement(Pr,{name:"trackLabel",value:this.state.trackLabel,onChange:this.HandleTextChange,onKeyPress:Object(hn.h)(this.HandleSubmit),required:!0}),lr.a.createElement("label",null,"Metadata Key"),lr.a.createElement(Pr,{name:"trackKey",value:this.state.trackKey,onChange:this.HandleTextChange,onKeyPress:Object(hn.h)(this.HandleSubmit),required:!0})),lr.a.createElement("div",{className:"entry-actions-container"},lr.a.createElement("button",{className:e?"":"invalid",onClick:this.HandleSubmit},"Done")),lr.a.createElement("div",{className:"delete-button"},lr.a.createElement("button",{onClick:this.HandleDelete},"Remove Track")))}}]),TrackForm}(lr.a.Component))||Hi)||Hi;qi.propTypes={track:pi.a.object.isRequired};var Ki,$i=qi,Gi=Object(ur.b)("video")(Ki=Object(ur.b)("tracks")(Ki=Object(ur.b)("entry")(Ki=Object(ur.c)(Ki=function(e){function Entries(e){var t;return Jt()(this,Entries),(t=rr()(this,ir()(Entries).call(this,e))).state={entryLimit:100},t}return or()(Entries,e),er()(Entries,[{key:"Filter",value:function Filter(){var e=this;return this.props.entry.selectedEntry?null:lr.a.createElement("div",{className:"entries-filter"},lr.a.createElement(Pr,{value:this.props.entry.filter,placeholder:"Filter...",onChange:function onChange(t){return e.props.entry.SetFilter(t.target.value)}}))}},{key:"AddEntryButton",value:function AddEntryButton(){return"metadata"!==this.props.track.trackType||this.props.tracks.editingTrack||this.props.entry.editingEntry||this.props.entry.selectedEntry?null:lr.a.createElement("div",{className:"add-entry-button"},lr.a.createElement("button",{onClick:this.props.entry.CreateEntry},"Add Tag"))}},{key:"Header",value:function Header(){var e,t=this,r="metadata"===this.props.track.trackType;return e="vtt"===this.props.track.trackType?lr.a.createElement("h4",null,this.props.track.label," - WebVTT Track"):lr.a.createElement("h4",null,this.props.track.label," - Metadata Track"),lr.a.createElement("div",{onClick:r?function(){return t.props.tracks.SetEditing(t.props.track.trackId)}:void 0,tabIndex:r?0:void 0,className:"entries-header ".concat(r?"modifiable":"")},e,lr.a.createElement("div",{className:"entries-time-range"},this.props.video.scaleMinSMPTE," - ",this.props.video.scaleMaxSMPTE))}},{key:"PlayEntry",value:function PlayEntry(e,t){var r=this;if(t)return lr.a.createElement(hn.c,{className:"entry-play-icon",label:"Play Segment",icon:_n.a,onClick:function onClick(t){t.stopPropagation(),r.props.entry.PlayEntry(e)}})}},{key:"Entry",value:function Entry(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=function onClick(){return n.props.entry.SetSelectedEntry(e.entryId)};return lr.a.createElement("div",{role:"button",tabIndex:0,onClick:a,onKeyPress:Object(hn.h)(a),onMouseEnter:function onMouseEnter(){return n.props.entry.SetHoverEntries([e.entryId],e.startTime)},onMouseLeave:function onMouseLeave(){return n.props.entry.ClearHoverEntries()},className:"entry ".concat(t?"entry-active":""," ").concat(r?"entry-hover":""),key:"entry-".concat(e.entryId)},lr.a.createElement("div",{className:"entry-text"},e.text),lr.a.createElement("div",{className:"entry-time-range"},this.props.entry.TimeToSMPTE(e.startTime)," - ",this.props.entry.TimeToSMPTE(e.endTime)),this.PlayEntry(e,i))}},{key:"SelectedEntry",value:function SelectedEntry(){return this.props.entry.editingEntry?lr.a.createElement(Bi,null):lr.a.createElement(Vi,null)}},{key:"EntryList",value:function EntryList(){var e,t,r=this,n=this.props.entry.entries.length>0,i=n?this.props.entry.Entries():Object.values(this.props.track.entries),a=this.props.entry.FilteredEntries(i),o=this.props.track.intervalTree.search(this.props.video.currentTime,this.props.video.currentTime),s=this.props.entry.hoverEntries,l=["vtt","metadata"].includes(this.props.track.trackType);return n&&(e=lr.a.createElement("div",{className:"entry-actions"},lr.a.createElement(Di,{onClick:this.props.entry.ClearEntries}),this.props.entry.entryTime)),a.length>this.state.entryLimit&&(t=lr.a.createElement("div",{className:"entry"},lr.a.createElement("div",{className:"load-entries-button",onClick:function onClick(){return r.setState({entryLimit:r.state.entryLimit+100})}},"Load More..."))),lr.a.createElement("div",{className:"entries"},this.Filter(),e,a.slice(0,this.state.entryLimit).map(function(e){return r.Entry(e,o.includes(e.entryId),s.includes(e.entryId),l)}),t)}},{key:"Content",value:function Content(){return this.props.tracks.editingTrack?lr.a.createElement($i,{track:this.props.track}):this.props.entry.selectedEntry?this.SelectedEntry():this.EntryList()}},{key:"render",value:function render(){return lr.a.createElement("div",{className:"entries-container"},this.Header(),this.AddEntryButton(),this.Content())}}]),Entries}(lr.a.Component))||Ki)||Ki)||Ki)||Ki;Gi.propTypes={track:pi.a.object.isRequired};var Xi,Yi,Zi=Gi,Ji=Object(ur.b)("tracks")(Xi=Object(ur.c)(Xi=function(e){function SidePanel(){return Jt()(this,SidePanel),rr()(this,ir()(SidePanel).apply(this,arguments))}return or()(SidePanel,e),er()(SidePanel,[{key:"Entries",value:function Entries(){if(!this.props.tracks.selectedTrack)return null;var e=this.props.tracks.SelectedTrack();return lr.a.createElement(Zi,{track:e,key:"entries-".concat(e.trackId)})}},{key:"render",value:function render(){return lr.a.createElement(fi.ResizableBox,{className:"side-panel ".concat(this.props.tracks.selectedTrack?"":"hidden"),height:1/0,width:500,handle:lr.a.createElement("div",{className:"resize-handle"})},lr.a.createElement("div",{className:"side-panel-content"},this.Entries()))}}]),SidePanel}(lr.a.Component))||Xi)||Xi,Qi=Object(ur.b)("root")(Yi=Object(ur.b)("video")(Yi=Object(ur.b)("keyboardControls")(Yi=Object(ur.c)(Yi=function(e){function App(){return Jt()(this,App),rr()(this,ir()(App).apply(this,arguments))}return or()(App,e),er()(App,[{key:"render",value:function render(){return this.props.root.client?lr.a.createElement("div",{tabIndex:0,onKeyDown:this.props.keyboardControls.HandleModifiers,onKeyUp:this.props.keyboardControls.HandleModifiers,onKeyPress:this.props.keyboardControls.HandleInput,className:"video-editor"},lr.a.createElement(xn,null),lr.a.createElement(Li,null),lr.a.createElement("div",{className:"video-level",key:"video-".concat(this.props.root.videoStore.source)},lr.a.createElement(Ji,null),lr.a.createElement(bi,null)),lr.a.createElement(Ai,{key:"timeline-".concat(this.props.video.versionHash)})):null}}]),App}(lr.a.Component))||Yi)||Yi)||Yi)||Yi;Object(cr.render)(lr.a.createElement(ur.a,n,lr.a.createElement(Qi,null)),document.getElementById("app"))},97:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"></path></svg>'},98:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevrons-left"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg>'}});